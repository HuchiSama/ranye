{"version":3,"sources":["redux/redux.js","components/form.js","components/sign.js","components/care-message.js","components/footer.js","components/signup-component.js","components/header-nav.js","components/question.js","components/endComment.js","components/ansComment.js","components/postfooter.js","components/invitation.js","components/toolbar.js","components/body-container.js","pages/home.js","components/signin-component.js","pages/signin.js","components/post-container.js","components/invite.js","components/post-page.js","pages/post.js","components/edit-userInfo.js","components/user-header.js","components/user-Bar.js","components/caresList.js","components/collectList.js","components/user-container.js","pages/user.js","App.js","serviceWorker.js","index.js"],"names":["navActions","getInitial","state","action","produce","draft","key","toSign","sign","toChat","chat","navStore","createStore","type","question","invitedList","chatList","cares","signActions","formRedirect","sucessSignup","toSignin","form","captcha","protocol","buttonText","other","signStore","homeActions","postQuestion","postCount","posts","getData","toAttention","attention","postId","axios","post","qusId","createdAt","Date","now","forEach","it","qusLike","like","poorButton","poors","style","poor","deletePost","collect","collect_quesActive","collectId","id","favorite","favoriteQues","favoriteId","hoverAvatar","hover","homeStore","pageActions","writeAnswer","postAnswer","commenterInfo","pageId","attentionLength","likeComment","likes","commentId","poster","agree","userInfo","commentPoors","deleteComment","comments","collect_commActive","favoriteComment","ansCommentList","ansComments","invite","upDateInvite","inviteList","pageStore","userActions","editState","edit","editUserInfo","editEnd","updateActive","activeSwitch","active","careActive","collectActive","userStore","careAction","updateCare","len","myCares","length","i","careId","getCare","careStore","ansComAction","postComment","newList","likeAnsComment","myLikeAnsComment","concat","ansCommentId","poorAnsComment","myPoorAnsComment","postEndComment","endCommentList","idx","endComment","getEndCommentList","likeEndComment","myLikeEndComment","endCommentId","poorEndComment","myPoorEndComment","ansComStore","Form","props","_this","Object","classCallCheck","this","_super","call","signTo","e","preventDefault","el","target","name","value","password","then","item","data","document","querySelector","click","errRef","current","innerHTML","window","location","pathname","history","push","dispatch","replace","catch","console","log","nextPassword","trim","email","accQuery","emailQuery","setTimeout","classList","remove","add","toSignUp","toSignIn","getState","createRef","_react_16_13_1_react_default","a","createElement","Fragment","className","_this2","onclick","children","method","onSubmit","filter","react_router_dom","to","onClick","ref","footer","xieyi","React","Component","withRouter","Sign","_useState","useState","_useState2","slicedToArray","setState","_useState3","_useState4","setAccQuery","_useState5","_useState6","setemailQuery","useCallback","textContent","useEffect","uns","subscribe","switchCaptcha","src","accountInput","res","emailInput","components_form","placeholder","title","alt","onChange","TextArea","Input","care_message","careBloon","setCareBl","_props$careInfo","careInfo","setChat","recare","onmouseenter","childNodes","innerText","onmouseleave","get","objectSpread2","rej","Array","from","some","userId","undefined","cookieUser","response","status","HeartOutlined","CommentOutlined","ChatWindow","targetInfo","_ref","_useState7","_useState8","setValue","_useState9","_useState10","msgList","updateMsg","_useState11","_useState12","ws","setWS","WebSocket","sendMsg","send","JSON","stringify","content","targetName","targetId","targetAvatar","avatar","onopen","msg","onclose","onmessage","event","parse","flat","editInput","webClose","close","scrollTop","offsetHeight","sendEnter","shiftKey","keyCode","width","innerWidth","height","innerHeight","CloseOutlined","map","moment","format","created","_react_16_13_1_react","backgroundImage","userAvatar","rows","onKeyDown","es_button","Footer","Logup","Success","header_nav","_useState17","_useState18","homeDis","setHome","_useState19","_useState20","_useGetInvite","inviteMsg","setInviteMsg","byCareList","byCareMsg","setByCareMsg","byCommentLike","byCommentMsg","setByCommentMsg","msgSum","setMsgSum","invited","setInvited","initial","invitedLen","careLen","commentLen","pullUL","clickEvent","leaveEvent","addEventListener","enterEvent","removeEventListener","invitePull","_ref2","stopPropagation","useGetInvite","_useGetChat","_useState13","_useState14","chatSum","setChatSum","_useState15","_useState16","updateChat","err","dir","chatPull","_ref3","_ref4","userName","useGetChat","_useState21","_useState22","signState","setSignState","signUns","setHomeNone","clearSignDIV","FROM_DIV","homeList","_ref5","_ref6","sliderNav","slider","page","documentElement","wheelDelta","top","SearchOutlined","fontSize","color","BellFilled","MessageFilled","HomeFilled","MessageItem","ChatComponent","PullDown","display","_useState23","_useState24","cookie","setCookie","_useState25","_useState26","sign_out","toEditpage","myHome","UserOutlined","FormOutlined","LogoutOutlined","_ref7","_useState27","_useState28","setActive","MessageList","_useState29","_useState30","scroll","setScroll","ProjectFilled","HeartFilled","LikeFilled","InvitedItem","CareItem","CommentLikeItem","empty","image","Empty","PRESENTED_IMAGE_SIMPLE","description","_ref8","_ref9","_ref10","TIME","endOf","fromNow","TIME_CONTENT","parseInt","test","_ref11","_useState31","_useState32","_useState33","_useState34","setCare","_useState35","_useState36","openChat","setOpenChat","_useState37","_useState38","_useState39","_useState40","setTargetInfo","_useState41","_useState42","headLabelCare","setHeadLabelCare","_useState43","_useState44","headLabelOther","setHeadLabelOther","careChat","strangerChat","openChatWindow","setUnread","careCount","count","otherCount","unread","CareChat","StrangerChat","_ref12","_useState45","_useState46","notRead","_useState47","_useState48","_ref13","_useState49","_useState50","_useState51","_useState52","src_components_question","submitQus","postContent","closeQUs","contentEditable","EndCommentList","_state$myLikeEndComme","_state$myPoorEndComme","setEndComment","inputComment","sendComment","likeORpoor","t","toSendEndComment","targetUserId","newEndCommentList","DislikeFilled","es_form","Item","endComment_TextArea","autoSize","marginRight","onInput","htmlType","author","comment","actions","datetime","components_ansComment","CommentAns","AnsComment","_props$state","_props$state$myLikeAn","_props$state$myPoorAn","allView","setAllView","hide","setHide","updateEndCommentList","commentIcon","setCommIcon","newData","hideORview","WechatFilled","ansComment_TextArea","slice","newAnsCommentList","PostsFooter","ques","_useSelectState","setPost","poorActive","setPoor","setCollect","favoriteActive","setFavorite","homeUns","newPost","find","postUns","newComment","getCollect","posterId","commenterId","getFavorite","useSelectState","_useSelectState$post","fold","setFold","span","querySelectorAll","p","foldContent","arr","includes","ansComment","setAnsComment","ansCommentflad","CaretUpFilled","CaretDownFilled","answerCount","StarFilled","DownOutlined","UpOutlined","invitation","ContainerList","PostMain","Over","Attachment","useParams","mePost","attachment","setAttachment","attachmentClick","postNormal","changeAttachment","fill","upPosts","loading","setLoading","postIdx","time","skeleton","round","toolbar","setData","ToolbarHead","UserInfo","user","UserSign","Recommend","FooterBar","signOut","avatarChange","setHover","avatarCutover","FormData","append","files","headers","Content-Type","inputAvatar","pushUserPage","switchAvatar","clearAvatarEvent","userAvatarDiv","SyncOutlined","FileFilled","signChange","setAttribute","focus","onblur","user_sign","lastSign","useRef","signInput","text","EditOutlined","upData","recommendList","recommend","paragraph","body_container","home","HomeNavChild","Login","signin_component_Success","pages_signin","post_container","Update","Comment","ToolBar","AnswerDiv","CommentList","submitAnswer","_getNewCommenter","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","getNewCommenter","commentNoamal","commentIdx","CommentItem","PosterInfo","toUserPage","one","sen","commentCount","fans","components_invite","outerRef","foo","onmousewheel","inviteEnd","clearInvite","body","size","InviteItem","complete","setComplete","clear","setClear","updateInvite","temp","toInvite","careName","newInvites","industry","onMouseEnter","onMouseLeave","borderColor","post_page","_useParams$id","setInvite","result","sent","PostNavChild","PostInfo","PostTitle","Poster","Attention","upHide","setFlod","foldCutover","UserAddOutlined","FireFilled","pageview","upVoke","attenRef","pages_post","edit_userInfo","_state$userInfo","fontWeight","Sex","sex","Birthday","birthday","Address","address","edit_userInfo_Sign","Industry","Introduction","introduction","Sociality","sociality","setSex","editSex","saveEdit","es_radio","Group","checked","EditFilled","setSign","limit","setLimit","editSign","editSignInput","input","setAddress","editaddress","editAddressIput","setBirthday","editBirthday","date","date_picker","setIndustry","editIndustry","editIndustryIput","summary","setSummary","editSummary","editIntroduction","edit_userInfo_TextArea","setSociality","editSociality","editSocialityIput","user_header","UserHeader","flod","flodClick","shape","CameraOutlined","UserDataList","UserBaseData","MailOutlined","ManOutlined","marginLeft","WomanOutlined","UserBar","Score","isMe","careQuestion","care","attentionDynamic","collectQues","collectComment","AttentionDynamic","dynamicList","changeView","Idx","AttentionQuestion","CaresList","_state$myCares","careList","itCaresList","recevies","enterText","leaveTXet","CheckCircleFilled","CollectList","quesIdx","coomIdx","CollectQuestion","CollectComment","likeAt","toLocaleDateString","POST_TIME","user_container","UserMain","_ref$dynamic","dynamic","flag","setFlag","reActive","getMain","left","DynamicList","user_container_PostMain","_state$attentionDynam","_state$commentDynamic","commentDynamic","_state$likeDynamic","likeDynamic","_state$postDynamic","postDynamic","_state$collectComment","_state$collectQues","toConsumableArray","dynamicArray","sortAtTime","AnswerDynamic","PostDynamic","LikeDynamic","_state$userInfo2","array","sort","b","pages_user","_newData$posts","pageuns","UserNavSlider","App","react_router","exact","path","Boolean","hostname","match","locale","ReactDOM","render","StrictMode","config_provider","zhCN","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.726b2172.chunk.js","sourcesContent":["import { createStore } from 'redux'\nimport { produce } from 'immer'\nimport axios from 'axios'\n\n\nconst navActions = {\n  getInitial(state, action) {\n    return produce(state, draft => {\n      for (let key in action) {\n        draft[key] = action[key]\n      }\n    })\n  },\n  toSign(state, action) {\n    return produce(state, draft => {\n      draft.sign = action.sign\n    })\n  },\n  toChat(state, action) {\n    return produce(state, draft => {\n      draft.chat = action.chat\n    })\n  },\n}\n\nfunction navReducer(state, action) {\n  if (action.type in navActions) {\n    return navActions[action.type](state, action)\n  }\n  return state\n}\n\nexport const navStore = createStore(navReducer, {\n  question: false,\n  sign: true,\n  invitedList: [],\n  chat: false,\n  chatList: [],\n  cares: {}\n})\n\n\nconst signActions = {\n  formRedirect(state, action) {\n    return produce(state, (draft) => {\n      for (let key in action) {\n        draft[key] = action[key]\n      }\n    })\n  },\n  sucessSignup(state, action) {\n    return produce(state, (draft) => {\n      for (let key in action) {\n        draft[key] = action[key]\n      }\n    })\n  },\n  toSignin(state, action) {\n    return produce(state, (draft) => {\n      draft.sucessSignup = action.sucessSignup\n      draft.form = 'signin'\n      draft.captcha = true\n      draft.protocol = \"未注册手机验证后自动登录，注册即代表同意《知乎协议》《隐私保护指引》\"\n      draft.buttonText = '登录'\n      draft.other = true\n    })\n  },\n}\n\nfunction signReducer(state, action) {\n  if (action.type in signActions) {\n    return signActions[action.type](state, action)\n  }\n  return state\n}\n\nexport const signStore = createStore(signReducer, {\n  form: 'signin',\n  captcha: true,\n  protocol: \"未注册手机验证后自动登录，注册即代表同意《知乎协议》《隐私保护指引》\",\n  buttonText: '登录',\n  other: true\n})\n\n\n//homeStore\nconst homeActions = {\n  postQuestion(state, action) {\n    // debugger\n    return produce(state, draft => {\n      draft.question = action.question\n      draft.postCount = action.postCount\n      draft.posts = action.posts\n    })\n  },\n  question(state, action) {\n    return produce(state, draft => {\n      draft.question = action.question\n    })\n  },\n  getData(state, action) {\n    return produce(state, draft => {\n      for (let key in action) {\n        draft[key] = action[key]\n      }\n    })\n  },\n  toAttention(state, action) {\n    return produce(state, draft => {\n      if (draft.attention[action.postId]) {\n        axios.post('/api/attention/', {\n          qusId: action.postId,\n          createdAt: Date.now(),\n          type: 'revoke',\n        })\n        draft.posts.forEach(it => {\n          if (it.postId === action.postId) {\n            it.qusLike = action.like - 1\n          }\n        })\n        draft.attention[action.postId] = false\n      } else {\n        axios.post('/api/attention/', {\n          qusId: action.postId,\n          createdAt: Date.now(),\n          type: 'attention',\n        })\n        draft.posts.forEach(it => {\n          if (it.postId === action.postId) {\n            it.qusLike = action.like + 1\n          }\n        })\n        draft.attention[action.postId] = true\n      }\n    })\n  },\n  poorButton(state, action) {\n    // debugger\n    return produce(state, draft => {\n      if (draft.poors[action.postId]) {\n        axios.post('/api/attention/', {\n          qusId: action.postId,\n          type: 'revoke',\n          style: 'poor',\n          createdAt: Date.now()\n        })\n        draft.poors[action.postId] = false\n        draft.posts.forEach(it => {\n          if (it.postId === action.postId) {\n            it.poor = action.poor - 1\n          }\n        })\n\n      } else {\n        axios.post('/api/attention/', {\n          qusId: action.postId,\n          type: 'attention',\n          style: 'poor',\n          createdAt: Date.now()\n        })\n        draft.poors[action.postId] = true\n        draft.posts.forEach(it => {\n          if (it.postId === action.postId) {\n            it.poor = action.poor + 1\n          }\n        })\n      }\n    })\n  },\n  deletePost(state, action) {\n    return produce(state, draft => {\n      draft.postCount = action.postCount\n      draft.posts = action.posts\n    })\n  },\n  collect(state, action) {\n    return produce(state, draft => {\n      if (draft.collect_quesActive[action.collectId]) {\n        axios.post('/api/collect/', {\n          id: action.id,\n          collectId: action.collectId,\n          type: 'revoke',\n          style: 'question'\n        })\n        draft.collect_quesActive[action.collectId] = false\n      } else {\n        axios.post('/api/collect/', {\n          id: action.id,\n          collectId: action.collectId,\n          type: 'collect',\n          style: 'question'\n        })\n        draft.collect_quesActive[action.collectId] = true\n      }\n    })\n  },\n  favorite(state, action) {\n    return produce(state, draft => {\n      if (draft.favoriteQues[action.favoriteId]) {\n        axios.post('/api/favorite/', {\n          id: action.id,\n          favoriteId: action.favoriteId,\n          type: 'revoke',\n          style: 'question'\n        })\n        draft.favoriteQues[action.favoriteId] = false\n      } else {\n        axios.post('/api/favorite/', {\n          id: action.id,\n          favoriteId: action.favoriteId,\n          type: 'favorite',\n          style: 'question'\n        })\n        draft.favoriteQues[action.favoriteId] = true\n      }\n    })\n  },\n  hoverAvatar(state, action) {\n    return produce(state, draft => {\n      draft.hover = action.hover\n    })\n  },\n\n}\n\nfunction homeReducer(state, action) {\n  if (action.type in homeActions) {\n    return homeActions[action.type](state, action)\n  }\n  return state\n}\nexport const homeStore = createStore(homeReducer, {\n  question: false,\n  hover: false,\n})\n\n//post-pageStore\nconst pageActions = {\n  writeAnswer(state, action) {\n    return produce(state, draft => {\n      draft.writeAnswer = action.writeAnswer\n    })\n  },\n  getInitial(state, action) {\n    return produce(state, draft => {\n      for (let key in action) {\n        draft[key] = action[key]\n      }\n    })\n  },\n  postAnswer(state, action) {\n    // debugger\n    return produce(state, (draft) => {\n      draft.commenterInfo = action.commenterInfo\n      draft.writeAnswer = false\n    })\n  },\n  toAttention(state, action) {\n    return produce(state, (draft) => {\n      if (action.attention) {\n        axios.post('/api/attention/', {\n          qusId: action.pageId,\n          type: 'attention',\n          createdAt: Date.now()\n        })\n        draft.attention = action.attention\n        draft.attentionLength++\n      } else {\n        axios.post('/api/attention/', {\n          qusId: action.pageId,\n          type: 'revoke',\n          createdAt: Date.now()\n        })\n        draft.attention = action.attention\n        draft.attentionLength--\n      }\n    })\n  },\n  likeComment(state, action) {\n    // debugger\n    return produce(state, draft => {\n      if (draft.likes[action.commentId]) {\n        axios.post('/api/likeComment/', {\n          commentId: action.commentId,\n          type: 'revoke',\n          createdAt: Date.now()\n        })\n        draft.commenterInfo.forEach(it => {\n          if (it.commentId === action.commentId) {\n            it.like = action.like - 1\n          }\n        })\n        draft.poster ? draft.poster.agree -= 1 : draft.userInfo.agree -= 1\n        draft.likes[action.commentId] = false\n      } else {\n        axios.post('/api/likeComment/', {\n          commentId: action.commentId,\n          type: 'active',\n          createdAt: Date.now()\n        })\n        draft.commenterInfo.forEach(it => {\n          if (it.commentId === action.commentId) {\n            it.like = action.like + 1\n          }\n        })\n        draft.poster ? draft.poster.agree += 1 : draft.userInfo.agree += 1\n        draft.likes[action.commentId] = true\n      }\n    })\n  },\n  poorButton(state, action) {\n    // debugger\n    return produce(state, draft => {\n      if (draft.commentPoors[action.commentId]) {\n        axios.post('/api/likeComment/', {\n          commentId: action.commentId,\n          type: 'revoke',\n          style: 'poor',\n          createdAt: Date.now()\n        })\n        draft.commenterInfo.forEach(it => {\n          if (it.commentId === action.commentId) {\n            it.poor = action.poor - 1\n          }\n        })\n        draft.commentPoors[action.commentId] = false\n        // draft.commenterInfo[action.idx].poor = action.poor - 1\n      } else {\n        axios.post('/api/likeComment/', {\n          commentId: action.commentId,\n          type: 'active',\n          style: 'poor',\n          createdAt: Date.now()\n        })\n        draft.commenterInfo.forEach(it => {\n          if (it.commentId === action.commentId) {\n            it.poor = action.poor + 1\n          }\n        })\n        draft.commentPoors[action.commentId] = true\n        // draft.commenterInfo[action.idx].poor = action.poor + 1\n      }\n    })\n  },\n  deleteComment(state, action) {\n    return produce(state, (draft) => {\n      draft.commenterInfo = action.comments\n    })\n  },\n  collect(state, action) {\n    return produce(state, draft => {\n      if (draft.collect_commActive[action.collectId]) {\n        axios.post('/api/collect/', {\n          id: action.id,\n          collectId: action.collectId,\n          type: 'revoke',\n          style: 'comment',\n        })\n        draft.collect_commActive[action.collectId] = false\n      } else {\n        axios.post('/api/collect/', {\n          id: action.id,\n          collectId: action.collectId,\n          type: 'collect',\n          style: 'comment',\n        })\n        draft.collect_commActive[action.collectId] = true\n      }\n    })\n  },\n  favorite(state, action) {\n    return produce(state, draft => {\n      if (draft.favoriteComment[action.favoriteId]) {\n        axios.post('/api/favorite/', {\n          id: action.id,\n          favoriteId: action.favoriteId,\n          type: 'revoke',\n          style: 'comment',\n        })\n        draft.favoriteComment[action.favoriteId] = false\n      } else {\n        axios.post('/api/favorite/', {\n          id: action.id,\n          favoriteId: action.favoriteId,\n          type: 'favorite',\n          style: 'comment',\n        })\n        draft.favoriteComment[action.favoriteId] = true\n      }\n    })\n  },\n  ansCommentList(state, action) {\n    return produce(state, draft => {\n      draft.commenterInfo.forEach(it => {\n        if (it.commentId === action.id) {\n          it.ansComments++\n        }\n      })\n    })\n  },\n  invite(state, action) {\n    return produce(state, (draft) => {\n      draft.invite = action.invite\n    })\n  },\n  upDateInvite(state, action) {\n    return produce(state, (draft) => {\n      draft.inviteList = action.inviteList\n    })\n  },\n}\n\n\nfunction pageReducer(state, action) {\n  if (action.type in pageActions) {\n    return pageActions[action.type](state, action)\n  }\n  return state\n}\nexport const pageStore = createStore(pageReducer, {\n  writeAnswer: false,\n  invite: false,\n  inviteList: [],\n})\n\n//userStore\nconst userActions = {\n  getInitial(state, action) {\n    return produce(state, draft => {\n      for (let key in action) {\n        draft[key] = action[key]\n      }\n    })\n  },\n  editState(state, action) {\n    return produce(state, draft => {\n      draft.edit = action.edit\n    })\n  },\n  editUserInfo(state, action) {\n    return produce(state, draft => {\n      for (let key in action) {\n        draft.userInfo[key] = action[key]\n      }\n    })\n  },\n  editEnd(state, action) {\n    return produce(state, draft => {\n      draft.edit = action.edit\n    })\n  },\n  updateActive(state, action) {\n    return produce(state, draft => {\n      draft.attention = action.attention\n      draft.poors = action.poors\n    })\n  },\n  activeSwitch(state, action) {\n    return produce(state, draft => {\n      draft.active = action.active\n    })\n  },\n  careActive(state, action) {\n    return produce(state, draft => {\n      draft.careActive = action.careActive\n    })\n  },\n  collectActive(state, action) {\n    return produce(state, draft => {\n      draft.collectActive = action.collectActive\n    })\n  }\n}\nfunction userReducer(state, action) {\n  if (action.type in userActions) {\n    return userActions[action.type](state, action)\n  }\n  return state\n}\nexport const userStore = createStore(userReducer, {\n  writeAnswer: false,\n  edit: false,\n  question: false,\n  active: 0,\n  careActive: 0,\n  collectActive: 0,\n})\n\n/*cares-Store*/\n\nconst careAction = {\n  updateCare(state, action) {\n    return produce(state, draft => {\n      let len = draft.myCares.length\n      if (len === 0) {\n        draft.myCares[len] = { careId: action.id }\n        return\n      }\n      for (let i = 0; i < len; i++) {\n        if (draft.myCares[i].careId === action.id) {\n          draft.myCares[i].careId = null\n          break\n        }\n        if (i === len - 1) {\n          draft.myCares[len] = { careId: action.id }\n        }\n      }\n    })\n  },\n  getCare(state, action) {\n    return produce(state, draft => {\n      for (let key in action) {\n        draft[key] = action[key]\n      }\n    })\n  },\n}\nfunction careReducer(state, action) {\n  if (action.type in careAction) {\n    return careAction[action.type](state, action)\n  }\n  return state\n}\n\n\nexport const careStore = createStore(careReducer, {\n  myCares: []\n})\n\n\nconst ansComAction = {\n  getInitial(state, action) {\n    return produce(state, draft => {\n      for (let key in action) {\n        if (key === 'id' || key === 'ansCommentList') {\n          draft.ansCommentList[action.id] = action.ansCommentList\n        } else {\n          draft[key] = action[key]\n        }\n      }\n    })\n  },\n  postComment(state, action) {\n    return produce(state, draft => {\n      draft.ansCommentList[action.id] = action.newList\n    })\n  },\n  likeAnsComment(state, action) {\n    return produce(state, draft => {\n      if (draft.myLikeAnsComment[action.id]) {\n        axios.post(`/api/ansCommentLike/${action.id}`, {\n          style: 'like',\n          type: 'revoke',\n        })\n        draft.ansCommentList[action.commentId].forEach(it => {\n          if (it.ansCommentId === action.id) {\n            it.like -= 1\n          }\n        })\n        draft.myLikeAnsComment[action.id] = false\n      } else {\n        axios.post(`/api/ansCommentLike/${action.id}`, {\n          style: 'like',\n          type: 'active',\n        })\n        draft.ansCommentList[action.commentId].forEach(it => {\n          if (it.ansCommentId === action.id) {\n            it.like += 1\n          }\n        })\n        draft.myLikeAnsComment[action.id] = true\n      }\n    })\n  },\n  poorAnsComment(state, action) {\n    // debugger\n    return produce(state, draft => {\n      if (draft.myPoorAnsComment[action.id]) {\n        axios.post(`/api/ansCommentLike/${action.id}`, {\n          style: 'poor',\n          type: 'revoke',\n        })\n        draft.ansCommentList[action.commentId].forEach(it => {\n          if (it.ansCommentId === action.id) {\n            it.poor -= 1\n          }\n        })\n        draft.myPoorAnsComment[action.id] = false\n      } else {\n        axios.post(`/api/ansCommentLike/${action.id}`, {\n          style: 'poor',\n          type: 'active',\n        })\n        draft.ansCommentList[action.commentId].forEach(it => {\n          if (it.ansCommentId === action.id) {\n            it.poor += 1\n          }\n        })\n        draft.myPoorAnsComment[action.id] = true\n      }\n    })\n  },\n  postEndComment(state, action) {\n    return produce(state, draft => {\n      draft.endCommentList[action.id] = action.newList\n      draft.ansCommentList[action.commentId].forEach((it, idx) => {\n        if (it.ansCommentId === action.id) {\n          it.endComment += 1\n        }\n      })\n    })\n  },\n  getEndCommentList(state, action) {\n    return produce(state, draft => {\n      for (let key in action) {\n        if (key === 'id' || key === 'endCommentList') {\n          draft.endCommentList[action.id] = action.endCommentList\n        } else {\n          draft[key] = action[key]\n        }\n      }\n    })\n  },\n  likeEndComment(state, action) {\n    return produce(state, draft => {\n      if (draft.myLikeEndComment[action.id]) {\n        axios.post(`/api/endCommentLike/${action.id}`, {\n          style: 'like',\n          type: 'revoke',\n        })\n        draft.endCommentList[action.ansCommentId].forEach(it => {\n          if (it.endCommentId === action.id) {\n            it.like -= 1\n          }\n        })\n        draft.myLikeEndComment[action.id] = false\n      } else {\n        axios.post(`/api/endCommentLike/${action.id}`, {\n          style: 'like',\n          type: 'active',\n        })\n        draft.endCommentList[action.ansCommentId].forEach(it => {\n          if (it.endCommentId === action.id) {\n            it.like += 1\n          }\n        })\n        draft.myLikeEndComment[action.id] = true\n      }\n    })\n  },\n  poorEndComment(state, action) {\n    // debugger\n    return produce(state, draft => {\n      if (draft.myPoorEndComment[action.id]) {\n        axios.post(`/api/endCommentLike/${action.id}`, {\n          style: 'poor',\n          type: 'revoke',\n        })\n        draft.endCommentList[action.ansCommentId].forEach(it => {\n          if (it.endCommentId === action.id) {\n            it.poor -= 1\n          }\n        })\n        draft.myPoorEndComment[action.id] = false\n      } else {\n        axios.post(`/api/endCommentLike/${action.id}`, {\n          style: 'poor',\n          type: 'active',\n        })\n        draft.endCommentList[action.ansCommentId].forEach(it => {\n          if (it.endCommentId === action.id) {\n            it.poor += 1\n          }\n        })\n        draft.myPoorEndComment[action.id] = true\n      }\n    })\n  },\n}\nfunction ansComReducer(state, action) {\n  if (action.type in ansComAction) {\n    return ansComAction[action.type](state, action)\n  }\n  return state\n}\n\n\nexport const ansComStore = createStore(ansComReducer, {\n  ansCommentList: {},\n  endComment: false,\n  endCommentList: {},\n})\n","import React, { createRef } from 'react'\nimport { navStore, signStore } from '../redux/redux'\nimport axios from 'axios'\nimport { withRouter } from 'react-router-dom'\nimport { Link } from \"react-router-dom\"\n// import signStore from '../redux/redux'\nclass Form extends React.Component {\n\n  static footer(props) {\n    let other = (\n      <>\n        <hr className=\"other-hr\" />\n        <div className=\"other-Account\">\n          <span>其他账号登陆</span>\n          <span>广告位招租</span>\n          <span>广告位招租</span>\n        </div>\n      </>\n    )\n    return (\n      <>\n        {props.other && other}\n      </>\n    )\n  }\n\n  constructor(props) {\n    super()\n    this.state = signStore.getState()\n    this.props = props\n\n    this.errRef = createRef()\n  }\n\n  componentDidMount() {\n    window.onclick = () => {\n      this.errRef.current.innerHTML = \"\"\n    }\n  }\n  componentWillUnmount() {\n    window.onclick = null\n  }\n\n  signTo = (e) => {\n    e.preventDefault()\n    let el = e.target\n    if (this.props.form === 'signin') {\n      let form = {\n        name: el.name.value,\n        password: el.password.value,\n        captcha: el.captcha.value,\n      }\n      axios.post('/api/clearCookie')\n      axios.post('/api/login', form)\n        .then(item => {\n          if (item.data === 0) {\n            document.querySelector('.captcha').click()\n            this.errRef.current.innerHTML = '用户名或密码错误，请重新输入'\n          } else if (item.data === 1) {\n            if (window.location.pathname === '/sign') {\n              this.props.history.push(\"/\")\n            } else {\n              navStore.dispatch({\n                type: 'toSign',\n                sign: true,\n              })\n              window.location.replace('')\n            }\n          } else {\n            document.querySelector('.captcha').click()\n            this.errRef.current.innerHTML = '验证码错误，请重新输入'\n          }\n        }).catch(console.log)\n    } else {\n      if (el.password.value !== el.nextPassword.value) {\n        return this.errRef.current.innerHTML = '密码验证失败，请重新输入'\n      }\n      let form = {\n        name: el.name.value.trim(),\n        password: el.password.value.trim(),\n        email: el.email.value.trim(),\n      }\n      if (!form.name || !form.password || !form.email) {\n        return this.errRef.current.innerHTML = '不能输入空，请重新输入'\n      }\n      if (this.props.accQuery) {\n        return this.errRef.current.innerHTML = '用户名已被使用，请重新输入'\n      }\n      if (this.props.emailQuery) {\n        return this.errRef.current.innerHTML = '邮箱已被使用，请重新输入'\n      }\n      // console.log(form)\n      axios.post('/api/sign_up', form)\n        .then(item => {\n          if (item.data) {\n            signStore.dispatch({\n              type: 'sucessSignup',\n              sucessSignup: true\n            })\n\n            setTimeout(() => {\n              let sucess = document.querySelector('.success')\n              sucess.classList.remove('suc-transition')\n            }, 200)\n            setTimeout(() => {\n              let sucess = document.querySelector('.success img')\n              sucess.classList.add('img-cslc')\n              document.querySelector('.success label').classList.remove('label-visi')\n            }, 3000)\n          } else {\n            this.errRef.current.innerHTML = '注册失败，请再次尝试'\n          }\n        }).catch(() => {\n          this.errRef.current.innerHTML = '注册失败，请再次尝试'\n        })\n    }\n  }\n  toSignUp = (e) => {\n    e.preventDefault()\n    signStore.dispatch({\n      type: 'formRedirect',\n      form: 'signup',\n      captcha: false,\n      other: false,\n      protocol: '注册即代表同意《知乎协议》《隐私保护指引》',\n      buttonText: '注册',\n    })\n  }\n  toSignIn = (e) => {\n    e.preventDefault()\n    signStore.dispatch({\n      type: 'formRedirect',\n      form: 'signin',\n      captcha: 2,\n      other: true,\n      protocol: '未注册手机验证后自动登录，注册即代表同意《知乎协议》《隐私保护指引》',\n      buttonText: '登录',\n    })\n  }\n  render() {\n    let props = this.props\n    let children = props.children.props.children\n    return (\n      <>\n        <form action=\"/api/login\" method=\"post\" onSubmit={this.signTo}>\n          {\n            children.filter(it => it.type !== 'div')\n          }\n\n          <div className=\"redirector\">\n            {props.form === 'signin'\n              ? <>\n                <Link to=\"/sign_up\" className=\"zhuce\" onClick={this.toSignUp}>注册新用户</Link>\n                <Link to=\"/lossPas\" className=\"lossPas\">忘记密码？</Link>\n              </>\n              : <Link to=\"/sign\" className=\"zhuce\" onClick={this.toSignIn}>返回登陆界面</Link>\n            }\n          </div>\n          {\n            children.filter(it => it.type === 'div')\n          }\n          <span className={props.form === 'signin' ? \"sub-error\" : \"lossPas sub-error\"} ref={this.errRef}></span>\n          <button type=\"submit\" className=\"submit\" >{props.buttonText}</button>\n          <span className=\"xieyi\">{this.state.protocol}</span>\n        </form>\n        <Form.footer xieyi={props.xieyi} other={props.other} />\n      </>\n    )\n  }\n}\n\nexport default withRouter(Form)\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { signStore } from '../redux/redux'\nimport Form from './form'\nimport axios from 'axios'\n\nexport default function Sign(props) {\n  let [state, setState] = useState(signStore.getState())\n  // let [accValue, setAccValue] = useState('')\n  // let [emailValue, setemailValue] = useState('')\n  let [accQuery, setAccQuery] = useState(false)\n  let [emailQuery, setemailQuery] = useState(false)\n  let formRedirect = useCallback(function (e) {\n    let type = e.target.textContent === '用户登录' ? 'signin' : 'signup'\n    if (type === 'signin') {\n      signStore.dispatch({\n        type: 'formRedirect',\n        form: 'signin',\n        captcha: 2,\n        other: true,\n        protocol: '未注册手机验证后自动登录，注册即代表同意《知乎协议》《隐私保护指引》',\n        buttonText: '登录',\n      })\n    } else {\n      signStore.dispatch({\n        type: 'formRedirect',\n        form: 'signup',\n        captcha: false,\n        other: false,\n        protocol: '注册即代表同意《知乎协议》《隐私保护指引》',\n        buttonText: '注册',\n      })\n    }\n  }, [])\n\n  useEffect(() => {\n    let uns = signStore.subscribe(() => setState(signStore.getState()))\n    return () => uns()\n  }, [])\n  // debugger\n  let switchCaptcha = useCallback(function (e) {\n    let el = e.target\n    el.src = `/api/captcha?t=${Date.now()}`\n  }, [])\n  let accountInput = useCallback((e) => {\n    axios.post('/api/user-query/', { name: e.target.value })\n      .then(res => {\n        if (res.data === 0) {\n          setAccQuery(true)\n        } else {\n          setAccQuery(false)\n        }\n      })\n  }, [])\n  let emailInput = useCallback((e) => {\n    axios.post('/api/email-query/', { email: e.target.value })\n      .then(res => {\n        if (res.data === 0) {\n          setemailQuery(true)\n        } else {\n          setemailQuery(false)\n        }\n      })\n  }, [])\n  return (\n    <div className=\"outer\">\n      <div className=\"form-header\">\n        <label className={state.form === \"signin\" ? 'form-action' : ''} onClick={formRedirect}>\n          用户登录\n        </label>\n        <label className={state.form === \"signup\" ? 'form-action signup-label' : 'signup-label'} onClick={formRedirect}>\n          注册账号\n        </label>\n\n      </div>\n      <hr />\n      <Form captcha={state.captcha} other={state.other} form={state.form} xieyi={state.captcha} buttonText={state.buttonText} accQuery={accQuery} emailQuery={emailQuery}>\n        {\n          state.form === 'signin'\n            ? <div>\n              < input type=\"text\" placeholder=\"请输入登录账号\" className=\"name\" name=\"name\" />\n              < input type=\"password\" placeholder='密码' className=\"password\" name=\"password\" />\n              <div name=\"captcha-div\">\n                < input type=\"text\" placeholder='请输入验证码' className=\"captcha-input\" name=\"captcha\" />\n                <img src={`/api/captcha?t=${Date.now()}`} title=\"点击换一张\" className=\"captcha\" onClick={switchCaptcha} alt=\"captcha\" />\n              </div>\n            </div>\n            : <div>\n              < input type=\"text\" placeholder=\"请输入注册账号\" className=\"name\" name=\"name\" onChange={accountInput} />\n              {accQuery && <label className=\"user-query\"></label>}\n              < input type=\"email\" placeholder='绑定电子邮箱' className=\"email\" name=\"email\" onChange={emailInput} />\n              {emailQuery && <label className=\"email-query\"></label>}\n              < input type=\"password\" placeholder=\"请输入密码\" className=\"password\" name=\"password\" />\n              < input type=\"password\" placeholder='请再次输入密码' className=\"password\" name=\"nextPassword\" />\n            </div>\n        }\n      </Form>\n    </div>\n  )\n}\n","import React, { useCallback, useEffect, useState,Fragment } from 'react'\nimport axios from 'axios'\nimport { HeartOutlined, CommentOutlined, CloseOutlined } from '@ant-design/icons';\nimport { careStore, navStore } from '../redux/redux';\nimport { Input, Button } from 'antd';\nimport moment from 'moment';\nconst { TextArea } = Input;\n\nexport default function (props) {\n  let [careBloon, setCareBl] = useState(false)\n  let { careInfo = {} } = props\n  let [chat, setChat] = useState(false)\n  let [state, setState] = useState(navStore.getState())\n  useEffect(() => {\n    let uns = navStore.subscribe(() => setState(navStore.getState()))\n    return () => uns()\n  }, [])\n  useEffect(() => {\n    if (careBloon) {\n      var recare = document.querySelector('.recare')\n      recare.onmouseenter = () => {\n        recare.childNodes[1].innerText = \"取消\"\n      }\n      recare.onmouseleave = () => {\n        recare.childNodes[1].innerText = \"已关注\"\n      }\n    }\n    return () => {\n      if (careBloon) {\n        recare.onmouseenter = null\n        recare.onmouseleave = null\n      }\n    }\n  }, [careBloon])\n  useEffect(() => {\n    axios.get('/api/care')\n      .then(res => {\n        let data = res.data\n        careStore.dispatch({\n          type: 'getCare',\n          ...data,\n        })\n      }).catch(rej => { })\n\n    let uns = careStore.subscribe(() => {\n      setCareBl(Array.from(careStore.getState().myCares).some(it => it.careId === careInfo.userId))\n    })\n    return () => uns()\n  }, [careInfo])\n  let updateCare = useCallback(() => {\n    if (state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n      return\n    }\n    careStore.dispatch({\n      type: 'updateCare',\n      id: careInfo.userId,\n    })\n\n    axios.post('/api/care', { type: careBloon ? 'reCare' : 'toCare', careId: careInfo.userId })\n      .catch(rej => {\n        if (rej.response.status === 401) {\n          navStore.dispatch({\n            type: 'toSign',\n            sign: false,\n          })\n        }\n      })\n\n  }, [careBloon, careInfo, state])\n  let toChat = useCallback(() => {\n    if (state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n      return\n    }\n    setChat(!chat)\n  }, [chat, state])\n  // useEffect(() => {\n\n  // }, [ws])\n  return (\n    <>\n      <ul className=\"poster-interactive\">\n        {careBloon\n          ? <li onClick={updateCare} className=\"recare\"><HeartOutlined /><span>已关注</span></li>\n          : <li onClick={updateCare}><HeartOutlined /><span>关注他</span></li>\n        }\n        <li onClick={toChat}><CommentOutlined />发私信</li>\n      </ul>\n      { chat && <ChatWindow targetInfo={careInfo} setChat={setChat} state={state} />}\n    </>\n  )\n}\n\n\nexport function ChatWindow({ targetInfo, setChat, state }) {\n  let [value, setValue] = useState('')\n  let [msgList, updateMsg] = useState([])\n  let [ws, setWS] = useState(null)\n\n  useEffect(() => {\n    if (ws === null) {\n      setWS(new WebSocket(`ws://47.111.233.71:8080/targetId=${targetInfo.userId}&&userId=${state.userInfo.userId}`))\n    }\n  }, [targetInfo, state, ws])\n\n  let sendMsg = useCallback(() => {\n    if (value === '') { return }\n    ws.send(JSON.stringify([{\n      content: value,\n      targetName: targetInfo.name,\n      targetId: targetInfo.userId,\n      targetAvatar: targetInfo.avatar\n    }]))\n    setValue('')\n  }, [value, targetInfo, ws])\n  useEffect(() => {\n    if (ws) {\n      ws.onopen = function (msg) {\n        console.log('WebSocket opened!');\n      }\n      ws.onclose = function () {\n        console.log('WebSocket closed!');\n      }\n      ws.onmessage = (event) => {\n        let msg = JSON.parse(event.data)\n        msg = msg.flat()\n        console.log(msg)\n        updateMsg(msg)\n      }\n    }\n  }, [ws])\n  let editInput = useCallback((e) => {\n    setValue(e.target.value)\n  }, [])\n\n  let webClose = useCallback(() => {\n    setChat(false)\n    ws.close()\n  }, [ws, setChat])\n  useEffect(() => {\n    let section = document.querySelector('.chat-section')\n    section.scrollTop = document.querySelector('.chat-section-ul').offsetHeight\n  }, [msgList])\n  let sendEnter = useCallback((e) => {\n    if (!e.shiftKey && e.keyCode === 13) {\n      e.preventDefault()\n      document.querySelector('.chat-edit-footer button').click()\n    }\n  }, [])\n  return (\n    <div className=\"chat-outer\" style={{ width: `${window.innerWidth}px`, height: `${window.innerHeight}px` }}>\n      <div className=\"chat-container\">\n        <div className=\"chat-user-head\">\n          <label onClick={webClose}><CloseOutlined /></label>\n          <h2>{targetInfo.name}</h2>\n        </div>\n        <div className=\"chat-section\">\n          <ul className=\"chat-section-ul\">\n            {msgList.map((it, idx) => {\n              if (it.targetName !== state.cookieUser) {\n                let now = moment(Date.now()).format(\"YY\")\n                let created = moment(it.createdAt * 1).format(\"YY\")\n                return (\n                  <Fragment key={it.createdAt}>\n                    <li className=\"chat-time\">\n                      {(idx === 0 || (it.createdAt - msgList[idx - 1].createdAt >= 180000)) &&\n                        <span >{now * 1 > created * 1\n                          ? moment(it.createdAt * 1).format(\"YY-MM-DD HH:mm:ss\")\n                          : moment(it.createdAt * 1).format(\"MM-DD HH:mm:ss\")\n                        }\n                        </span>\n                      }</li>\n                    <li className=\"chat-section-me\" key={it.createdAt}>\n                      <p className=\"chat-msg-content\">{it.content}</p>\n                      <i style={{ backgroundImage: `url(${it.userAvatar})` }} className=\"chat-msg-avatar\"></i>\n                    </li>\n                  </Fragment>\n                )\n              } else {\n                let now = moment(Date.now()).format(\"YY\")\n                let created = moment(it.createdAt * 1).format(\"YY\")\n                return (\n                  <Fragment key={it.createdAt}>\n                    <li className=\"chat-time\">\n                      {(idx === 0 || (it.createdAt - msgList[idx - 1].createdAt >= 180000)) &&\n                        <span >{now * 1 > created * 1\n                          ? moment(it.createdAt * 1).format(\"YY-MM-DD HH:mm:ss\")\n                          : moment(it.createdAt * 1).format(\"MM-DD HH:mm:ss\")\n                        }\n                        </span>\n                      }</li>\n                    <li className=\"chat-section-target\" key={it.createdAt}>\n                      <i style={{ backgroundImage: `url(${targetInfo.avatar})` }} className=\"chat-msg-avatar\"></i>\n                      <p className=\"chat-msg-content\">{it.content}</p>\n                    </li>\n                  </Fragment>\n                )\n              }\n            })\n            }\n          </ul>\n        </div>\n        <div className=\"chat-footer\">\n          <div className=\"chat-edit\">\n            <TextArea rows={6} value={value} onChange={editInput} onKeyDown={sendEnter} />\n          </div>\n          <div className=\"chat-edit-footer\">\n            <span>按Enter 发送</span>\n            <Button type=\"primary\" onClick={sendMsg}>发送</Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Footer(props) {\n  return (\n    <div className={props.type === 'signup' ? 'signup-footer footer' : 'footer'}>\n      <span> © 2020 知乎京 ICP 证 110745 号京 ICP 备 13052560 号 - 1京公网安备 11010802010035 号出版物经营许可证</span>\n      <br />\n      <span>侵权举报网上有害信息举报专区儿童色情信息举报专区违法和不良信息举报：010-82716601 </span>\n    </div>\n  )\n}\n","import React, { useState, useEffect, useCallback } from 'react'\n// import { Form, Input, Button, Checkbox, Space, message } from 'antd'\n// import { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport './signin-component.css'\nimport Footer from './footer'\nimport { signStore } from '../redux/redux'\nimport Sign from './sign'\nimport { Link } from \"react-router-dom\"\n\nexport default function Logup() {\n  let [state, setState] = useState({\n    form: 'signup',\n    captcha: false,\n    other: false,\n    protocol: '注册即代表同意《知乎协议》《隐私保护指引》',\n    buttonText: '注册',\n    sucessSignup: false,\n  })\n  useEffect(() => {\n    let uns = signStore.subscribe(() => setState(signStore.getState()))\n    return () => uns()\n  })\n  return (\n    <div className=\"main\">\n      {state.sucessSignup &&\n        <Success props={state} />\n      }\n      <img src=\"../images/login-top.png\" alt=\"logo\" className=\"logo\" />\n      <Sign state={state} />\n      <Footer type=\"signup\" />\n    </div>\n  )\n}\n\nexport function Success(props) {\n  let toSignin = useCallback((e) => {\n    e.preventDefault()\n    signStore.dispatch({\n      type: 'toSignin',\n      sucessSignup: false\n    })\n  }, [])\n  return (\n    <div className=\"success-bg\">\n      <div className={props.sucessSignup ? \"success\" : 'suc-transition success'}>\n        <img src=\"/images/loading.gif\" alt=\"注册成功\" />\n        <label className=\"label-visi\">\n          <span>注册成功！ </span> 点击 <Link to=\"/sign\" onClick={toSignin}>返回登陆</Link>\n        </label>\n      </div>\n    </div>\n  )\n}\n","import React, { useCallback, Fragment, useEffect, useState } from 'react'\nimport './home-page.css'\nimport { SearchOutlined, BellFilled, MessageFilled, HomeFilled, UserOutlined, FormOutlined, LogoutOutlined, ProjectFilled, HeartFilled, LikeFilled } from '@ant-design/icons'\nimport { homeStore, navStore, signStore, userStore } from '../redux/redux'\nimport axios from 'axios'\nimport { Empty } from 'antd';\nimport { withRouter } from 'react-router-dom'\nimport Sign from './sign'\nimport moment from 'moment';\nimport { ChatWindow } from './care-message'\nimport { Success } from './signup-component'\nimport { Link } from \"react-router-dom\"\n\nfunction useGetInvite() {\n  let [inviteMsg, setInviteMsg] = useState(navStore.getState().invitedList || [])\n  let [byCareMsg, setByCareMsg] = useState(navStore.getState().byCareList || [])\n  let [byCommentMsg, setByCommentMsg] = useState(navStore.getState().byCommentLike || [])\n  let [msgSum, setMsgSum] = useState(0)\n  let [invited, setInvited] = useState(false)\n  useEffect(() => {\n    axios.get('/api/invite')\n      .then(res => {\n        let initial = res.data\n        navStore.dispatch({\n          type: 'getInitial',\n          ...initial,\n        })\n      })\n  }, [])\n  useEffect(() => {\n    let invitedLen = inviteMsg.filter(it => it.status !== 'view').length\n    let careLen = byCareMsg.filter(it => it.status !== 'view').length\n    let commentLen = byCommentMsg.filter(it => it.status !== 'view').length\n    let viewLen = invitedLen + careLen + commentLen\n    setMsgSum(viewLen)\n  }, [inviteMsg, byCareMsg, byCommentMsg])\n\n  useEffect(() => {\n    let uns = navStore.subscribe(() => {\n      setInviteMsg(navStore.getState().invitedList || [])\n      setByCareMsg(navStore.getState().byCareList || [])\n      setByCommentMsg(navStore.getState().byCommentLike || [])\n    })\n\n    return () => uns()\n  }, [])\n  useEffect(() => {\n    let pullUL = document.querySelector('.nav-invited-outer')\n    let clickEvent = (e) => {\n      setInvited(false)\n    }\n    function leaveEvent() {\n      window.addEventListener('click', clickEvent)\n    }\n    function enterEvent() {\n      window.removeEventListener('click', clickEvent)\n    }\n    pullUL.addEventListener('mouseleave', leaveEvent)\n    pullUL.addEventListener('mouseenter', enterEvent)\n\n    return () => {\n      pullUL.removeEventListener('mouseleave', leaveEvent)\n      pullUL.removeEventListener('mouseenter', enterEvent)\n    }\n  }, [])\n  let invitePull = useCallback(([setChat, setHome], e) => {\n    e.stopPropagation()\n    setInvited(!invited)\n    setChat(false)\n    setHome('none')\n    axios.post('/api/clear-invited')\n    setMsgSum(0)\n  }, [invited])\n\n  return { invitePull, inviteMsg, byCareMsg, byCommentMsg, msgSum, invited, setInvited }\n}\n\nfunction useGetChat(state) {\n  let [chat, setChat] = useState(false)\n  let [chatSum, setChatSum] = useState(0)\n  let [chatList, updateChat] = useState(navStore.getState().chatList)\n  useEffect(() => {\n    axios.get('/api/chat-list')\n      .then(res => {\n        let initial = res.data\n        navStore.dispatch({\n          type: 'getInitial',\n          ...initial,\n        })\n      }).catch(err => {\n        console.dir(err)\n      })\n  }, [])\n  useEffect(() => {\n    let uns = navStore.subscribe(() => updateChat(navStore.getState().chatList))\n    return () => uns()\n  }, [])\n  let chatPull = useCallback(([setHome, setInvited], e) => {\n    e.stopPropagation()\n    setHome('none')\n    setChat(!chat)\n    setInvited(false)\n    setChatSum(0)\n  }, [chat])\n  useEffect(() => {\n    if (state.cookieUser) {\n      setChatSum(chatList.flat().filter(it => (it.status === 'normal' && it.userName !== state.cookieUser)).length)\n    }\n  }, [chatList, state])\n  useEffect(() => {\n    let pullUL = document.querySelector('.nav-chat-outer')\n    let clickEvent = (e) => {\n      setChat(false)\n    }\n    function leaveEvent() {\n      window.addEventListener('click', clickEvent)\n    }\n    function enterEvent() {\n      window.removeEventListener('click', clickEvent)\n    }\n    pullUL.addEventListener('mouseleave', leaveEvent)\n    pullUL.addEventListener('mouseenter', enterEvent)\n\n    return () => {\n      pullUL.removeEventListener('mouseleave', leaveEvent)\n      pullUL.removeEventListener('mouseenter', enterEvent)\n    }\n  }, [])\n  return { chat, setChat, chatSum, chatList, chatPull }\n}\nexport default function (props) {\n  let [homeDis, setHome] = useState('none')\n  let [state, setState] = useState(navStore.getState() || {})\n  let { invitePull, inviteMsg, byCareMsg, byCommentMsg, msgSum, invited, setInvited } = useGetInvite()\n  let { chat, chatSum, chatList, chatPull, setChat } = useGetChat(state)\n  let [signState, setSignState] = useState(signStore.getState())\n  useEffect(() => {\n    let signUns = signStore.subscribe(() => setSignState(signStore.getState() || {}))\n    let uns = navStore.subscribe(() => setState(navStore.getState() || {}))\n    return () => {\n      uns()\n      signUns()\n    }\n  }, [])\n  let postQuestion = useCallback(() => {\n    if (state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n      return\n    }\n    homeStore.dispatch({\n      type: 'question',\n      question: true,\n    })\n  }, [state])\n\n  useEffect(() => {\n    axios.get('/api/nav-data')\n      .then(res => {\n        let initial = res.data\n        navStore.dispatch({\n          type: 'getInitial',\n          ...initial,\n        })\n      })\n    let setHomeNone = () => {\n      setHome('none')\n    }\n    window.addEventListener('click', setHomeNone)\n\n    return () => window.removeEventListener('click', setHomeNone)\n  }, [homeDis])\n  useEffect(() => {\n    if (!state.sign) {\n      function clearSignDIV(e) {\n        let FROM_DIV = document.querySelector('.user-not-sign')\n        if (e.target === FROM_DIV) {\n          navStore.dispatch({\n            type: 'toSign',\n            sign: true,\n          })\n        }\n      }\n      window.addEventListener('click', clearSignDIV)\n      return () => window.removeEventListener('click', clearSignDIV)\n    }\n  }, [state])\n  let homeList = useCallback(([setChat, setInvited], e) => {\n    e.stopPropagation()\n    if (homeDis === 'none') {\n      setHome('block')\n    } else {\n      setHome('none')\n    }\n    setChat(false)\n    setInvited(false)\n  }, [homeDis])\n  useEffect(() => {\n    let sliderNav = document.querySelector('.nav-slider-outer')\n    function slider(e) {\n      if (props.page === 'post') {\n        if (document.documentElement.scrollTop < 100) {\n          return\n        }\n      }\n      if (props.page === 'user') {\n        if (document.documentElement.scrollTop < 300) {\n          return\n        }\n      }\n      if (e.wheelDelta > 0) {\n        sliderNav.style.top = '0px'\n      } else {\n        sliderNav.style.top = '-50px'\n      }\n    }\n\n    window.addEventListener('mousewheel', slider)\n    return () => window.removeEventListener('mousewheel', slider)\n  }, [props])\n  return (\n    <>\n      <nav>\n        <div className=\"nav-slider-outer\">\n          <div className=\"top-nav\">\n            <Link to=\"/\" className=\"home-logo\">\n              <img src=\"/images/icon2.jpg\" alt=\"zhi 呼\" />\n            </Link>\n            <ul className=\"home-list\">\n              <li><Link to=\"/\">首页</Link></li>\n              <li><Link to=\"/\">发现</Link></li>\n              <li><Link to=\"/\">等你来答</Link></li>\n            </ul>\n            <div className=\"search-div\">\n              <label className=\"search-label\">\n                <input type=\"search\" name=\"search\" className=\"search\" placeholder=\"功能尚未完善\" />\n                <SearchOutlined style={{ fontSize: '20px', color: '#9AA3B5' }} />\n              </label>\n              <input type=\"button\" className=\"question\" value=\"发帖\" onClick={postQuestion} />\n            </div>\n            <ul className=\"persen-list\">\n              <li >\n                <BellFilled style={{ fontSize: \"22px\" }} onClick={(e) => invitePull([setChat, setHome], e)} />\n                {msgSum !== 0 &&\n                  <label className=\"nav-message-icon\" onClick={(e) => invitePull([setChat, setHome], e)}>{msgSum}</label>\n                }\n\n              </li>\n              <li>\n                <MessageFilled style={{ fontSize: \"20px\" }} onClick={(e) => chatPull([setHome, setInvited], e)} />\n                {chatSum !== 0 &&\n                  <label className=\"nav-message-icon\" onClick={(e) => chatPull([setHome, setInvited], e)}>{chatSum}</label>\n                }\n              </li>\n              <li onClick={(e) => homeList([setChat, setInvited], e)}><HomeFilled style={{ fontSize: \"20px\" }} /></li>\n            </ul>\n          </div>\n          {props.children}\n        </div>\n      </nav>\n      <div className=\"nav-pull-container\">\n        <MessageItem inviteMsg={inviteMsg} byCareMsg={byCareMsg} byCommentMsg={byCommentMsg} className={invited ? '' : 'nav-message-hidden'} />\n        <ChatComponent className={chat ? '' : 'nav-message-hidden'} chatList={chatList} />\n        <PullDown display={homeDis} />\n        {!state.sign && <div className=\"user-not-sign\"><Sign /></div>}\n        {signState.sucessSignup &&\n          <Success props={signState} />\n        }\n      </div>\n    </>\n  )\n}\nfunction PullList(props) {\n  let [cookie, setCookie] = useState(navStore.getState().cookieUser)\n  let [state, setState] = useState(navStore.getState().userInfo || {})\n  useEffect(() => {\n    let uns = navStore.subscribe(() => {\n      setState(navStore.getState().userInfo || {})\n      setCookie(navStore.getState().cookieUser)\n    })\n\n    return () => uns()\n  }, [])\n  let sign_out = useCallback(() => {\n    axios.post('/api/clearCookie/')\n  }, [])\n\n  let toEditpage = useCallback(() => {\n    if (cookie === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n    } else {\n      props.history.push(`/user/${state.userId}`)\n      userStore.dispatch({\n        type: 'editState',\n        edit: true,\n      })\n    }\n  }, [state, cookie, props.history])\n  let myHome = useCallback(() => {\n    if (cookie === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n    } else {\n      props.history.push(`/user/${state.userId}`)\n    }\n  }, [state, cookie, props.history])\n\n  return (\n    <div className=\"pull-down\" style={{ display: props.display }}>\n      <span className=\"flag\"><i></i></span>\n      <ul className=\"home-pull\">\n        <li onClick={myHome}><UserOutlined />我的首页</li>\n        <li onClick={toEditpage}><FormOutlined />编辑资料</li>\n        <li onClick={sign_out}><Link to='/sign'><LogoutOutlined />退出登陆</Link></li>\n      </ul>\n    </div>\n  )\n}\nlet PullDown = withRouter(PullList)\n\n\nfunction MessageItem({ inviteMsg, byCareMsg, byCommentMsg, className }) {\n  let [active, setActive] = useState(0)\n  let MessageList = [inviteMsg, byCareMsg, byCommentMsg][active]\n  let [scroll, setScroll] = useState(false)\n  useEffect(() => {\n    let listUl = document.querySelector('.nav-invited-list')\n    if (listUl.offsetHeight >= 430) {\n      setScroll(true)\n    }\n  }, [active])\n  return (\n    <div className={`nav-invited-outer ${className}`}>\n      <span className=\"flag\"><i></i></span>\n      <div className=\"nav-invited-head\">\n        <ul>\n          <li onClick={() => setActive(0)}><ProjectFilled className={active === 0 ? 'active-msgList' : ''} /></li>\n          <li onClick={() => setActive(1)}><HeartFilled className={active === 1 ? 'active-msgList' : ''} /></li>\n          <li onClick={() => setActive(2)}><LikeFilled className={active === 2 ? 'active-msgList' : ''} /></li>\n        </ul>\n      </div>\n      <ul className={scroll ? \"nav-invited-list nav-invited-scroll\" : 'nav-invited-list'}>\n        {active === 1 && <div className=\"msgList-care-head\"><span>最近这些人关注了你</span></div>}\n        {MessageList.length !== 0 && MessageList.map((it, idx) => {\n          return (\n            <Fragment key={idx}>\n              {active === 0 && <InvitedItem item={it} />}\n              {active === 1 && <CareItem item={it} />}\n              {active === 2 && <CommentLikeItem item={it} />}\n            </Fragment>\n          )\n        })\n        }\n        {MessageList.length === 0 &&\n          <li className=\"nav-invited-item\">\n            <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"还没有新的动态哦！\" />\n          </li>\n        }\n      </ul>\n    </div>\n  )\n}\nfunction InvitedItem({ item }) {\n  return (\n    <li className=\"nav-invited-item\" key={item.createdAt}>\n      <Link to={`/user/${item.userId}`}>{item.userName}</Link>\n      <span>&nbsp;邀请您回答问题&nbsp;</span>\n      <Link to={`/post-page/${item.postId}`}>{item.title}</Link>\n    </li>\n  )\n}\nfunction CareItem({ item }) {\n  return (\n    <li className=\"nav-cares-item\" key={item.createdAt}>\n      <Link to={`/user/${item.userId}`}>\n        <i style={{ backgroundImage: `url(${item.avatar})` }} className=\"msgList-care-avatar\"></i>\n        <div>\n          <h4>{item.name}</h4>\n          <span>{item.sign}</span>\n        </div>\n      </Link>\n    </li>\n  )\n}\n\nfunction CommentLikeItem({ item }) {\n  let TIME = moment(item.createdAt * 1).endOf().fromNow(true) + '前'\n  let TIME_CONTENT = parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ? moment(item.createdAt * 1).format(\"MM-DD HH:mm\") : TIME\n  return (\n    <li className=\"nav-invited-item\" key={item.createdAt}>\n      <Link to={`/user/${item.userId}`}>{item.userName}</Link>\n      <span>&nbsp;点赞了您的回答:&nbsp;<span className=\"nav-comment-item-time\">{TIME_CONTENT}</span></span>\n      <Link to={`/post-page/${item.postId}`} className=\"nav-comment-item-content\" >{item.content}</Link>\n      <Link to={`/post-page/${item.postId}`} className=\"nav-comment-item-title\" title={item.title}>{item.title}</Link>\n    </li>\n  )\n}\n\nfunction ChatComponent({ className, chatList }) {\n  let [active, setActive] = useState(0)\n  let [cares, setCare] = useState(navStore.getState().cares || {})\n  let [openChat, setOpenChat] = useState(false)\n  let [state, setState] = useState(navStore.getState())\n  let [targetInfo, setTargetInfo] = useState({})\n  let [headLabelCare, setHeadLabelCare] = useState(false)\n  let [headLabelOther, setHeadLabelOther] = useState(false)\n  useEffect(() => {\n    let uns = navStore.subscribe(() => {\n      setState(navStore.getState())\n      setCare(navStore.getState().cares)\n    })\n    return () => uns()\n  }, [])\n  let careChat = chatList.filter(it => {\n    if (it[0].userName === state.cookieUser) {\n      return cares[it[0].targetId]\n    } else {\n      return cares[it[0].userId]\n    }\n  })\n  let strangerChat = chatList.filter(it => {\n    if (it[0].userName === state.cookieUser) {\n      return !cares[it[0].targetId]\n    } else {\n      return !cares[it[0].userId]\n    }\n  })\n  let openChatWindow = useCallback((item, setUnread, targetInfo) => {\n    setOpenChat(!openChat)\n    setTargetInfo(targetInfo)\n    axios.post('/api/clear-chat', { targetName: item.name })\n    setUnread(0)\n  }, [openChat])\n  useEffect(() => {\n    if (!openChat) {\n      axios.get('/api/chat-list').then(res => {\n        let initial = res.data\n        navStore.dispatch({\n          type: 'getInitial',\n          ...initial,\n        })\n      })\n    }\n  }, [openChat])\n  useEffect(() => {\n    //可优化\n    if (!state.cookieUser) return\n    let careCount = 0\n    careChat.forEach(it => {\n      let count = it.filter(item => item.status === 'normal' && item.userName !== state.cookieUser)\n      careCount += count.length\n    })\n    if (careCount) {\n      setHeadLabelCare(true)\n    } else {\n      setHeadLabelCare(false)\n    }\n    let otherCount = 0\n    strangerChat.forEach(it => {\n      let count = it.filter(item => {\n        return item.status === 'normal' && item.userName !== state.cookieUser\n      })\n      otherCount += count.length\n    })\n    if (otherCount) {\n      setHeadLabelOther(true)\n    } else {\n      setHeadLabelOther(false)\n    }\n  }, [careChat, strangerChat, state])\n  return (\n    <div className={`nav-invited-outer ${className} nav-chat-outer`}>\n      <span className=\"flag\"><i></i></span>\n      <div className=\"nav-invited-head\">\n        <ul className=\"nav-chat-head\">\n          <li onClick={() => setActive(0)} className={active === 0 ? 'nav-chat-active' : 'nav-chat'}><span>最近联系</span>{headLabelCare && <label className=\"chat-head-label\"></label>}</li>\n          <li onClick={() => setActive(1)} className={active === 1 ? 'nav-chat-active' : 'nav-chat'}><span>陌生人私信</span>{headLabelOther && <label className=\"chat-head-label\"></label>}</li>\n        </ul>\n      </div>\n      <ul className={'nav-chat-list nav-invited-list'}>\n        {active === 0 && careChat.length !== 0 && careChat.map(it => {\n          let unread = it.filter(it => it.status === 'normal' && it.userName !== state.cookieUser).length\n          let targetId\n          // = it.filter(it => it.targetName === state.cookieUser)[0]\n          if (it[0].targetName === state.cookieUser) {\n            targetId = it[0].userId\n          } else {\n            targetId = it[0].targetId\n          }\n          return (\n            <Fragment key={it[0].createdAt} >\n              {<CareChat item={it[0]} targetId={targetId} unread={unread} onClick={openChatWindow} />}\n            </Fragment >\n          )\n        })\n        }\n        {active === 1 && strangerChat.length !== 0 && strangerChat.map(it => {\n          let unread = it.filter(it => it.status === 'normal' && it.userName !== state.cookieUser).length\n          let targetId\n          // = it.filter(it => it.targetName === state.cookieUser)[0]\n          if (it[0].targetName === state.cookieUser) {\n            targetId = it[0].userId\n          } else {\n            targetId = it[0].targetId\n          }\n          return (\n            <Fragment key={it[0].createdAt}>\n              {<StrangerChat item={it[0]} unread={unread} targetId={targetId} onClick={openChatWindow} />}\n            </Fragment >\n          )\n        })\n        }\n        {((strangerChat.length === 0 && active === 1) || (careChat.length === 0 && active === 0)) &&\n          <li className=\"nav-invited-item\">\n            <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"还没有私信哦！\" />\n          </li>\n        }\n      </ul>\n      {openChat && <ChatWindow targetInfo={targetInfo} state={state} setChat={setOpenChat} />}\n    </div>\n  )\n}\n\nfunction CareChat({ item, unread, onClick, targetId }) {\n  let avatar = item.userId === targetId ? item.userAvatar : item.targetAvatar\n  let name = item.userId === targetId ? item.userName : item.targetName\n  let [notRead, setUnread] = useState(unread)\n  let [targetInfo, setTargetInfo] = useState({})\n  useEffect(() => {\n    axios.post('/api/userInfo-serach', { id: targetId })\n      .then(res => {\n        setTargetInfo(res.data.userInfo)\n      })\n  }, [targetId])\n  return (\n    <>\n      <li className=\"nav-chat-item\" key={item.createdAt} onClick={() => onClick(targetInfo, setUnread, targetInfo)}>\n        {notRead !== 0 &&\n          <label className=\"nav-message-icon chat-unred\">{notRead}</label>\n        }\n        <div>\n          <i style={{ backgroundImage: `url(${avatar})` }} className=\"msgList-care-avatar\"></i>\n          <div>\n            <h4>{name}</h4>\n            <span>{item.content}</span>\n          </div>\n        </div>\n      </li>\n\n    </>\n  )\n}\nfunction StrangerChat({ item, unread, onClick, targetId }) {\n  let avatar = item.userId === targetId ? item.userAvatar : item.targetAvatar\n  let name = item.userId === targetId ? item.userName : item.targetName\n  let [notRead, setUnread] = useState(unread)\n  let [targetInfo, setTargetInfo] = useState({})\n  useEffect(() => {\n    axios.post('/api/userInfo-serach', { id: targetId })\n      .then(res => {\n        setTargetInfo(res.data.userInfo)\n      })\n  }, [targetId])\n  return (\n    <li className=\"nav-chat-item\" key={item.createdAt} onClick={() => onClick(targetInfo, setUnread, targetInfo)}>\n      {notRead !== 0 &&\n        <label className=\"nav-message-icon chat-unred\">{notRead}</label>\n      }\n      <div>\n        <i style={{ backgroundImage: `url(${avatar})` }} className=\"msgList-care-avatar\"></i>\n        <div>\n          <h4>{name}</h4>\n          <span>{item.content}</span>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React, { useCallback } from 'react'\nimport './question.css'\nimport { homeStore, navStore } from '../redux/redux'\nimport axios from 'axios'\n\n\nexport default function () {\n\n  let submitQus = useCallback(() => {\n\n    let postContent = document.querySelector('.neirong').value\n    let postTitle = document.querySelector('#fileName').value\n    let post = {\n      title: postTitle,\n      content: postContent\n    }\n    if (post.title.trim() === '' || post.content.trim() === '') {\n      return\n    }\n    axios.post('/api/home_Page/', post)\n      .then(res => {\n        homeStore.dispatch({\n          type: 'postQuestion',\n          question: false,\n          postCount: res.data.postCount,\n          posts: res.data.posts,\n        })\n      }).catch(rej => {\n        if (rej.response.status === 401) {\n          navStore.dispatch({\n            type: 'toSign',\n            sign: false,\n          })\n          homeStore.dispatch({\n            type: 'question',\n            question: false,\n          })\n        }\n      })\n\n  }, [])\n\n  let closeQUs = useCallback(() => {\n    homeStore.dispatch({\n      type: 'question',\n      question: false,\n    })\n  }, [])\n\n  return (\n    <>\n      <label className=\"clear-qus\" onClick={closeQUs}>x</label>\n      <div id=\"questionDiv\">\n        <div className=\"question-outer\">\n          <div className=\"header\">\n            <input type=\"text\" id=\"fileName\" placeholder=\"请输入标题\" name=\"title\" />\n          </div>\n          <section>\n            <textarea className=\"neirong\" contentEditable name=\"content\"></textarea>\n          </section>\n          <label className=\"qst-submit\" onClick={submitQus}>发布问题</label>\n        </div>\n      </div>\n    </>\n  )\n}\n","import React, { useCallback, useState } from 'react'\nimport moment from 'moment';\nimport axios from 'axios'\nimport { Comment, Form, Button, Input } from 'antd';\nimport { ansComStore, navStore } from '../redux/redux';\nimport { DislikeFilled, MessageFilled, LikeFilled, } from '@ant-design/icons';\nimport { Link } from \"react-router-dom\"\nconst { TextArea } = Input;\n\n\nexport default function () {\n  return (\n    <div></div>\n  )\n}\n\nexport function EndCommentList({ item, commentId, state, ansCommentId }) {\n  let { myLikeEndComment = {}, myPoorEndComment = {} } = state\n  let [value, setValue] = useState('')\n  let [endComment, setEndComment] = useState(false)\n\n  let id = item.endCommentId\n  let inputComment = useCallback((e) => {\n    setValue(e.target.value)\n  }, [])\n\n  let sendComment = useCallback(() => {\n    setEndComment(!endComment)\n  }, [endComment])\n  let likeORpoor = useCallback((t) => {\n    if (t === '赞') {\n      ansComStore.dispatch({\n        type: 'likeEndComment',\n        id: id,\n        ansCommentId: item.ansCommentId\n      })\n    } else {\n      ansComStore.dispatch({\n        type: 'poorEndComment',\n        id: id,\n        ansCommentId: item.ansCommentId\n      })\n    }\n  }, [id, item])\n  let toSendEndComment = useCallback(() => {\n    if (state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n      return\n    }\n    if (value.trim() === '') { return }\n    axios.post(`/api/endComment/${ansCommentId}`, {\n      content: value,\n      targetUserId: item.userId,\n      commentId: commentId\n    })\n      .then(res => {\n        ansComStore.dispatch({\n          type: 'postEndComment',\n          id: ansCommentId,\n          newList: res.data.newEndCommentList,\n        })\n      })\n    setValue('')\n  }, [ansCommentId, value, item, commentId, state])\n  let action = (\n    <>\n      <ul className=\"ansComment-action\">\n        <li onClick={() => likeORpoor('赞')} className={myLikeEndComment[id] ? 'activeAnsComment' : ''}><LikeFilled /> {item.like}</li>\n        <li onClick={() => likeORpoor('踩')} className={myPoorEndComment[id] ? 'activeAnsComment' : ''}><DislikeFilled /> 踩</li>\n        <li onClick={sendComment}><MessageFilled /> {endComment ? '取消回复' : '回复'}</li>\n      </ul>\n      {endComment &&\n        <Form.Item>\n          <TextArea autoSize={true} placeholder={' 回复 ' + item.name} className=\"endComment\" style={{ width: '490px', marginRight: '15px' }} onInput={inputComment} value={value} />\n          <Button htmlType=\"submit\" type=\"primary\" onClick={toSendEndComment}>\n            发送\n          </Button>\n        </Form.Item>\n      }\n    </>\n  )\n  let author = (\n    <div className=\"ansComment-header\">\n      <i style={{ backgroundImage: `url(${item.avatar})` }} className=\"endComment-avatar\"></i>\n      <Link to={`/user/${item.userId}`}>{item.name}{item.userId === commentId ? '(作者)' : ''}</Link>\n      &nbsp;&nbsp;回复&nbsp;&nbsp;\n      <Link to={`/user/${item.targetUserId}`}>{item.targetName}{item.targetUserId === commentId ? '(作者)' : ''}</Link>\n    </div>\n  )\n  let TIME = moment(item.createdAt * 1).endOf().fromNow(true) + '前'\n  return (\n    <Comment actions={[action]} author={[author]} datetime={\n      parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n        moment(item.createdAt * 1).format(\"MM-DD HH:mm:ss\")\n        : TIME\n    } content={<p>{item.content}</p>}>\n    </Comment>\n  )\n}\n","import React, { Fragment, useCallback, useEffect, useState } from 'react'\nimport moment from 'moment';\nimport axios from 'axios'\nimport { Comment, Form, Button, Input } from 'antd';\nimport { ansComStore, navStore, pageStore } from '../redux/redux';\nimport { DislikeFilled, WechatFilled, MessageFilled, LikeFilled, } from '@ant-design/icons';\nimport { EndCommentList } from './endComment'\nimport { Link } from \"react-router-dom\"\nconst { TextArea } = Input;\n\n// import { useParams } from 'react-router-dom'\n\nexport default function (props) {\n  let id = props.id\n  let [state, setState] = useState({ ansCommentList: [] })\n  useEffect(() => {\n    axios.get(`/api/ansComment/${id}`)\n      .then(res => {\n        let initial = res.data\n        ansComStore.dispatch({\n          type: 'getInitial',\n          id: id,\n          ansCommentList: initial.ansCommentList,\n          myLikeAnsComment: initial.myLikeAnsComment,\n          myPoorAnsComment: initial.myPoorAnsComment,\n          cookieUser: initial.cookieUser,\n        })\n      })\n  }, [id])\n  let ansCommentList = state.ansCommentList[id] || []\n  useEffect(() => {\n    let uns = ansComStore.subscribe(() => setState(ansComStore.getState()))\n    return () => uns()\n  }, [])\n\n  return (\n    <div className=\"ansComment-outer\">\n      <div className=\"ansComment-head\" ><h4>{ansCommentList.length} 条评论</h4></div>\n      <ul className=\"ansComment-container\">\n        {ansCommentList.map((item, idx) => {\n          return (\n            <Fragment key={idx}>\n              <CommentAns item={item} state={state} />\n            </Fragment>\n          )\n        })\n        }\n      </ul>\n      <div className=\"ansComment-put\">\n        <AnsComment state={state} id={id} />\n      </div>\n    </div>\n  )\n}\n\nfunction CommentAns(props) {\n  let item = props.item\n  let id = item.ansCommentId\n  let { myLikeAnsComment = {}, myPoorAnsComment = {} } = props.state\n  let [endComment, setEndComment] = useState(false)\n  let [value, setValue] = useState('')\n  let [allView, setAllView] = useState(false)\n  let [hide, setHide] = useState(true)\n  let [endCommentList, updateEndCommentList] = useState(props.state.endCommentList[id] || [])\n  let [commentIcon, setCommIcon] = useState(false)\n  useEffect(() => {\n    if (item.endComment > 0) {\n      setCommIcon(true)\n    } else {\n      setCommIcon(false)\n    }\n  }, [item])\n  useEffect(() => {\n    let uns = ansComStore.subscribe(() => {\n      let newData = ansComStore.getState().endCommentList[id]\n      updateEndCommentList(newData)\n      return () => uns()\n    })\n  }, [id])\n\n  let inputComment = useCallback((e) => {\n    setValue(e.target.value)\n  }, [])\n  useEffect(() => {\n    axios.get(`/api/endComment/${id}`)\n      .then(res => {\n        let initial = res.data\n        ansComStore.dispatch({\n          type: 'getEndCommentList',\n          id: id,\n          endCommentList: initial.endCommentList,\n          myLikeEndComment: initial.myLikeEndComment,\n          myPoorEndComment: initial.myPoorEndComment,\n          cookieUser: initial.cookieUser,\n        })\n      })\n  }, [id])\n  let likeORpoor = useCallback((t) => {\n    if (t === '赞') {\n      ansComStore.dispatch({\n        type: 'likeAnsComment',\n        id: id,\n        commentId: item.commentId\n      })\n    } else {\n      ansComStore.dispatch({\n        type: 'poorAnsComment',\n        id: id,\n        commentId: item.commentId\n      })\n    }\n  }, [id, item])\n  let sendComment = useCallback(() => {\n    setEndComment(!endComment)\n  }, [endComment])\n  let toSendEndComment = useCallback(() => {\n    if (props.state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n      return\n    }\n    if (value.trim() === '') { return }\n    axios.post(`/api/endComment/${id}`, {\n      content: value,\n      targetUserId: item.userId,\n      commentId: item.commentId\n    })\n      .then(res => {\n        ansComStore.dispatch({\n          type: 'postEndComment',\n          id: id,\n          newList: res.data.newEndCommentList,\n          commentId: item.commentId,\n        })\n        setHide(false)\n        setAllView(true)\n      })\n\n    setValue('')\n  }, [id, value, props, item])\n  let hideORview = useCallback(() => {\n    setHide(!hide)\n    if (hide === true) {\n      setAllView(false)\n    }\n  }, [hide])\n  let action = (\n    <>\n      <ul className=\"ansComment-action\">\n        <li onClick={() => likeORpoor('赞')} className={myLikeAnsComment[id] ? 'activeAnsComment' : ''}><LikeFilled /> {item.like}</li>\n        <li onClick={() => likeORpoor('踩')} className={myPoorAnsComment[id] ? 'activeAnsComment' : ''}><DislikeFilled /> 踩</li>\n        {commentIcon &&\n          <li onClick={hideORview} ><WechatFilled />{hide ? ' 查看回复' : ' 隐藏回复'} </li>\n        }\n        <li onClick={sendComment}><MessageFilled /> {endComment ? '取消回复' : '回复'}</li>\n      </ul>\n      {endComment &&\n        <Form.Item>\n          <TextArea autoSize={true} placeholder={' 回复 ' + item.name} className=\"endComment\" style={{ width: '535px', marginRight: '15px' }} onInput={inputComment} value={value} />\n          <Button htmlType=\"submit\" type=\"primary\" onClick={toSendEndComment}>\n            发送\n          </Button>\n        </Form.Item>\n      }\n    </>\n  )\n  let author = (\n    <div className=\"ansComment-header\">\n      <i className=\"endComment-avatar\" style={{ backgroundImage: `url(${item.avatar})` }}></i>\n      <Link to={`/user/${item.userId}`}>{item.name}{item.userId === item.commentId ? '(作者)' : ''}</Link>\n    </div>\n  )\n  let TIME = moment(item.createdAt * 1).endOf().fromNow(true) + '前'\n\n  return (\n    <>\n      <Comment actions={[action]} author={[author]} datetime={\n        parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n          moment(item.createdAt * 1).format(\"MM-DD HH:mm:ss\")\n          : TIME\n      } content={<p>{item.content}</p>}>\n        {!hide &&\n          <>\n            {!allView && endCommentList.slice(0, 2).map(it => {\n              return (<EndCommentList item={it} commentId={item.commentId} state={props.state} ansCommentId={id} />)\n            })}\n            {endCommentList.length > 2 && <span className=\"all-endComment\" onClick={() => setAllView(true)} style={{ display: allView ? 'none' : 'block' }}>查看全部{endCommentList.length}条回复</span>}\n            {allView &&\n              endCommentList.map(it => {\n                return (<EndCommentList item={it} commentId={item.commentId} state={props.state} ansCommentId={id} />)\n              })\n            }\n          </>\n        }\n      </Comment>\n    </>\n  )\n}\nfunction AnsComment(props) {\n  let id = props.id\n  let [value, setValue] = useState('')\n  let inputComment = useCallback((e) => {\n    setValue(e.target.value)\n  }, [])\n  let postComment = useCallback(() => {\n    if (props.state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n      return\n    }\n    if (value.trim() === '') { return }\n    axios.post(`/api/ansComment/${id}`, {\n      content: value,\n    })\n      .then(res => {\n        ansComStore.dispatch({\n          type: 'postComment',\n          id: id,\n          newList: res.data.newAnsCommentList,\n        })\n        pageStore.dispatch({\n          type: 'ansCommentList',\n          id: id,\n        })\n        setValue('')\n      })\n  }, [id, value, props])\n  return (\n    <>\n      <Form.Item>\n        <TextArea rows={2} placeholder=\"请输入评论内容\" onInput={inputComment} value={value} />\n      </Form.Item>\n      <Form.Item>\n        <Button htmlType=\"submit\" type=\"primary\" onClick={postComment}>\n          添加评论\n      </Button>\n      </Form.Item>\n    </>\n  )\n}\n\n\n\n","import React, { useCallback, useEffect, useState } from 'react'\n// import axios from 'axios'\nimport { homeStore, pageStore, navStore } from '../redux/redux'\nimport { CaretUpFilled, CaretDownFilled, DownOutlined, UpOutlined, MessageFilled, StarFilled, HeartFilled } from '@ant-design/icons'\nimport AnsCommentList from './ansComment'\n\n//首页\nfunction useSelectState(props) {\n  let ques = props.type === 'question'\n\n  let [post, setPost] = useState(props.post || props.comment)\n  let postId = ques ? post.postId : post.commentId\n  // let post = props.post\n  let [active, setActive] = useState()\n  let [poorActive, setPoor] = useState()\n  let [collectActive, setCollect] = useState()\n  let [favoriteActive, setFavorite] = useState()\n  useEffect(() => {\n    //首页\n    if (ques) {\n      setActive(props.state.attention[postId])\n      setPoor(props.state.poors[postId])\n      setCollect(props.state.collect_quesActive[postId])\n      setFavorite(props.state.favoriteQues[postId])\n      let homeUns = homeStore.subscribe(() => {\n        let newPost = homeStore.getState().posts.find(it => it.postId === postId)\n        setPost(newPost)\n      })\n      return () => homeUns()\n\n    } else {\n      //post-page\n      setActive(props.state.likes[postId])\n      setPoor(props.state.commentPoors[postId])\n      setCollect(props.state.collect_commActive[postId])\n      setFavorite(props.state.favoriteComment[postId])\n\n      let postUns = pageStore.subscribe(() => {\n        let newComment = pageStore.getState().commenterInfo.find(it => it.commentId === postId)\n        setPost(newComment || {})\n      })\n      return () => postUns()\n    }\n\n  }, [postId, ques, props])\n  //home\n  let toAttention = useCallback(() => {\n    if (props.state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n    } else {\n      homeStore.dispatch({\n        type: 'toAttention',\n        postId,\n        like: post.qusLike,\n      })\n    }\n  }, [post, postId, props])\n\n  let poorButton = useCallback(() => {\n    if (props.state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n    } else {\n      if (ques) {\n        homeStore.dispatch({\n          type: 'poorButton',\n          postId: postId,\n          poor: post.poor,\n        })\n      } else {\n        pageStore.dispatch({\n          type: 'poorButton',\n          commentId: postId,\n          poor: post.poor,\n        })\n      }\n    }\n  }, [postId, post, ques, props])\n\n  //page\n  let likeComment = useCallback(() => {\n    if (props.state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n    } else {\n      pageStore.dispatch({\n        type: 'likeComment',\n        commentId: postId,\n        like: post.like,\n      })\n    }\n  }, [post, postId, props])\n\n  let getCollect = useCallback(() => {\n    if (props.state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n    } else {\n      if (ques) {\n        homeStore.dispatch({\n          type: 'collect',\n          collectId: postId,\n          id: post.posterId\n        })\n      } else {\n        pageStore.dispatch({\n          type: 'collect',\n          collectId: postId,\n          id: post.commenterId\n        })\n      }\n    }\n  }, [ques, post, props, postId])\n  let getFavorite = useCallback(() => {\n    if (props.state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n    } else {\n      if (ques) {\n        homeStore.dispatch({\n          type: 'favorite',\n          favoriteId: postId,\n          id: post.posterId\n        })\n      } else {\n        pageStore.dispatch({\n          type: 'favorite',\n          favoriteId: postId,\n          id: post.commenterId\n        })\n      }\n    }\n  }, [ques, post, props, postId])\n\n  return { post, active, poorActive, toAttention, poorButton, likeComment, getCollect, collectActive, getFavorite, favoriteActive }\n}\n\nexport default function PostsFooter(props) {\n  let idx = props.idx\n  let ques = props.type === 'question'\n  let { post = {}, active, poorActive, toAttention, likeComment, poorButton, getCollect, collectActive, getFavorite, favoriteActive } = useSelectState(props)\n\n  let [fold, setFold] = useState(true)  // 收起展开\n  let [hide, setHide] = useState(false)  // 显示/隐藏按钮\n  useEffect(() => {\n    let span = document.querySelectorAll('[name=\"content\"] p span')\n    if (span[idx] && span[idx].offsetHeight > 50) {\n      let p = document.querySelectorAll('[name=\"content\"] p')[idx]\n      p.classList.add('flodContent')\n      p.style.height = ques ? '3.2em' : '2.68em'\n      setHide(true)\n    }\n  }, [idx, ques])\n\n  let foldContent = useCallback(() => {\n    let p = document.querySelectorAll('[name=\"content\"] p')[idx]\n    let arr = Array.from(p.classList)\n    let span = document.querySelectorAll('[name=\"content\"] p span')\n    if (!arr.includes('flodContent')) {\n      p.classList.add('flodContent')\n      p.style.height = ques ? '3.2em' : '2.68em'\n      setFold(true)\n    } else {\n      p.classList.remove('flodContent')\n      p.style.height = span[idx].offsetHeight + 5 + \"px\"\n      setFold(false)\n    }\n  }, [idx])\n\n  let [ansComment, setAnsComment] = useState(false)\n  let ansCommentflad = useCallback(() => {\n    setAnsComment(!ansComment)\n  }, [ansComment])\n  return (\n    <>\n      <div className=\"postsfooter\">\n        <button type=\"button\" className={active ? 'likeActive' : ''} onClick={ques ? toAttention : likeComment} ><CaretUpFilled /> {ques ? `关注 ${post.qusLike}` : `赞同 ${post.like}`} </button>\n        <button type=\"button\" className={poorActive ? 'likeActive' : ''} onClick={poorButton}><CaretDownFilled />{ques ? ` 踩 ${post.poor}` : ` 反对 ${post.poor}`}</button>\n        <ul>\n          <li onClick={ansCommentflad}><MessageFilled /> {ques ? `${props.post.answerCount} 条回答` : ansComment ? '收起评论' : `${props.comment.ansComments} 条评论`}</li>\n          <li onClick={getCollect}><StarFilled />{collectActive ? '已收藏' : '收藏'} </li>\n          <li onClick={getFavorite}><HeartFilled />{favoriteActive ? ' 已喜欢' : ' 喜欢'} </li>\n        </ul>\n        {hide && <>\n          {fold\n            ? <span onClick={foldContent}>全部展开 <DownOutlined /></span>\n            : <span onClick={foldContent}>收起 <UpOutlined /></span>\n          }</>\n        }\n      </div>\n      {ansComment && !ques && <AnsCommentList id={post.commentId} />}\n    </>\n  )\n}\n\n\n\n/*\nexport default function PostsFooter(props) {\n  let idx = props.idx\n  let ques = props.type === 'question'\n  let postId = ques ? props.post.postId : props.comment.commentId\n  let [postLike, setPost] = useState({})\n  let [active, setActive] = useState()\n  let [poorActive, setPoor] = useState()\n  let [fold, setFold] = useState(true)\n  let [hide, setHide] = useState(false)\n  // let [like,upLike] = useState(false)\n  useEffect(() => {\n    let span = document.querySelectorAll('[name=\"content\"] p span')\n    if (span[idx].offsetHeight > 41) {\n      setHide(true)\n    }\n    //首页\n    if (ques) {\n      setPost(homeStore.getState().posts[idx])\n      setActive(props.state.attention[postId])\n      setPoor(props.state.poors[postId])\n\n      let homeUns = homeStore.subscribe(() => setPost(homeStore.getState().posts[idx]))\n      return () => homeUns()\n\n    } else {\n      //post-page\n      setPost(pageStore.getState().commenterInfo[idx])\n      setActive(props.state.likes[postId])\n      setPoor(props.state.poors[postId])\n\n      let postUns = pageStore.subscribe(() => setPost(pageStore.getState().commenterInfo[idx]))\n      return () => postUns()\n    }\n\n  }, [idx])\n\n  let foldContent = useCallback(() => {\n    let p = document.querySelectorAll('[name=\"content\"] p')[idx]\n    let style = p.style.display\n    if (style === 'block') {\n      p.style.display = '-webkit-box'\n      setFold(true)\n    } else {\n      p.style.display = 'block'\n      setFold(false)\n    }\n  }, [idx])\n\n  let toAttention = useCallback(() => {\n    homeStore.dispatch({\n      type: 'toAttention',\n      postId,\n      like: postLike.qusLike,\n      idx,\n    })\n    setActive(homeStore.getState().attention[postId])\n  }, [postLike, idx])\n\n  let likeComment = useCallback(() => {\n    pageStore.dispatch({\n      type: 'likeComment',\n      commentId: postId,\n      like: postLike.like,\n      idx,\n    })\n    setActive(pageStore.getState().likes[postId])\n  }, [postLike, idx])\n\n  let poorButton = useCallback(() => {\n    if (ques) {\n      homeStore.dispatch({\n        type: 'poorButton',\n        postId: postId,\n        poor: postLike.poor,\n        idx,\n      })\n      setPoor(homeStore.getState().poors[postId])\n    } else {\n      pageStore.dispatch({\n        type: 'poorButton',\n        commentId: postId,\n        poor: postLike.poor,\n        idx,\n      })\n      setPoor(pageStore.getState().poors[postId])\n    }\n  }, [postLike, idx])\n  return (\n    <div className=\"postsfooter\">\n      <button type=\"button\" className={active ? 'likeActive' : ''} onClick={ques ? toAttention : likeComment} ><CaretUpFilled /> {ques ? `关注 ${postLike.qusLike}` : `赞同 ${postLike.like}`} </button>\n      <button type=\"button\" className={poorActive ? 'likeActive' : ''} onClick={poorButton}><CaretDownFilled />{ques ? ` 踩 ${postLike.poor}` : ` 反对 ${postLike.poor}`}</button>\n      <ul>\n        <li><MessageFilled /> {ques ? `${props.post.answerCount} 条回答` : `${props.comment.ansComments} 条评论`}</li>\n        <li><StarFilled /> 收藏</li>\n        <li><HeartFilled /> 喜欢</li>\n      </ul>\n      {hide && <>\n        {fold\n          ? <span onClick={foldContent}>全部展开 <DownOutlined /></span>\n          : <span onClick={foldContent}>收起 <UpOutlined /></span>\n        }</>\n      }\n    </div>\n  )\n}\n\n// function poorButton() {\n\n// }\n\n*/\n","import React, { useCallback, useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { homeStore, pageStore } from '../redux/redux'\nimport PostsFooter from './postfooter'\nimport { useParams } from 'react-router-dom'\nimport moment from 'moment';\nimport { Link } from \"react-router-dom\"\nimport { Skeleton } from 'antd';\nimport { ContainerList } from '../pages/home'\n\nexport default function () {\n  // let [state, setState] = useState(homeStore.getState())\n\n  // useEffect(() => {\n  //   let uns = homeStore.subscribe(() => setState(homeStore.getState()))\n\n  //   return () => uns()\n  // }, [])\n  // debugger\n  return (\n    <div className=\"invitation\">\n      <ContainerList />\n      <PostMain />\n      <Over />\n    </div>\n  )\n}\n\nexport function Attachment(props) {\n  let { id } = useParams()\n  let mePost = props.state.cookieUser === props.post.name\n  let postId = props.type === 'post' ? props.post.postId : props.post.commentId\n  let [attachment, setAttachment] = useState(false)\n  // let [status, UpStatus] = useState(false)\n\n  useEffect(() => {\n    let attachmentClick = () => {\n      setAttachment(false)\n    }\n    window.addEventListener('click', attachmentClick)\n    return () => window.removeEventListener('click', attachmentClick)\n  }, [attachment])\n  let deletePost = useCallback(() => {\n    if (props.type === 'post') {\n      axios.post('/api/deletePost/', { postId, type: 'post' })\n        .then(res => {\n          homeStore.dispatch({\n            type: 'deletePost',\n            postCount: res.data.postNormal.length,\n            posts: res.data.posts,\n          })\n        })\n    } else {\n\n      axios.post('/api/deletePost/', { id, postId, type: 'comment' })\n        .then(res => {\n          pageStore.dispatch({\n            type: 'deleteComment',\n            // postCount: res.data.postNormal.length,\n            comments: res.data.comments,\n          })\n        })\n    }\n\n  }, [postId, props, id])\n\n  let changeAttachment = useCallback((e) => {\n    e.stopPropagation()\n    setAttachment(!attachment)\n  }, [attachment])\n\n  return (\n    <>\n      <span className=\"deletePost\" onClick={changeAttachment}>...</span>\n      {attachment && <i className=\"deletePost-flag\"></i>\n      }\n      <div className={attachment ? 'deAttachment deAttaHeight' : 'deAttachment'}>\n        <ul>\n          <li onClick={mePost ? deletePost : () => { }} >\n            <span className={mePost ? '' : 'disableDelete'}>删除</span>\n          </li>\n          <li><span>举报</span></li>\n        </ul>\n      </div>\n    </>\n  )\n}\n\nfunction PostMain() {\n  let [state, setState] = useState(homeStore.getState())\n  let [posts, upPosts] = useState(new Array(6).fill(''))\n  let [loading, setLoading] = useState(true)\n  useEffect(() => {\n    axios.get('/api/home-data').then(res => {\n      let initial = res.data\n      homeStore.dispatch({\n        ...initial,\n        type: 'getData',\n        posts: initial.posts.filter(it => it.status !== 'delete'),\n      })\n      setLoading(false)\n    })\n    let uns = homeStore.subscribe(() => {\n      setState(homeStore.getState())\n      upPosts(homeStore.getState().posts || [])\n    })\n    return () => uns()\n  }, [])\n\n  let postIdx = -1\n  return (\n    <ul className=\"posts\">\n      {\n        posts.map(post => {\n          let time = post.createdAt * 1\n          let TIME = moment(time).endOf().fromNow(true) + '前'\n          if (post.status !== 'delete') {\n            ++postIdx\n            return (\n              <li key={post.postId}>\n                <Skeleton active round loading={loading}>\n                  <div className=\"user-date\">\n                    <Link to={`/user/${post.posterId}`}><img alt=\"\" style={{ backgroundImage: `url(${post.avatar})` }} className=\"userAvatar\" /></Link>\n                    <span className=\"post-username\"><Link to={`/user/${post.posterId}`}>{post.name}</Link>  ,<span className=\"post-time\">  发布于\n                    {parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n                        moment(time).format(\"YYYY-MM-DD HH:mm:ss\")\n                        : TIME\n                      }\n                    </span></span>\n                    <Attachment state={state} post={post} type='post' />\n                  </div>\n                  <div className=\"content-div\" name=\"content\">\n                    <Link className=\"post-title\" to={`/post-page/${post.postId}`}>{post.title}</Link>\n                    <p className=\"post-content flodContent\">\n                      <span>{post.content}</span>\n                    </p>\n                  </div>\n                  <PostsFooter post={post} idx={postIdx} type=\"question\" state={state} />\n                </Skeleton>\n              </li>\n            )\n          } else {\n            return null\n          }\n        })\n      }\n    </ul>\n  )\n}\n// withRouter(PostMain)\n\n\n\nexport function Over() {\n  return (\n    <div className=\"over\">\n      <span>没有更多内容了...</span>\n    </div>\n  )\n}\n","import React, { useCallback, useEffect, useRef, useState } from 'react'\nimport axios from 'axios'\nimport { SyncOutlined, EditOutlined, ProjectFilled, StarFilled, HeartFilled, FileFilled, } from '@ant-design/icons'\nimport { homeStore, userStore, navStore } from '../redux/redux'\nimport { withRouter } from 'react-router-dom'\nimport { Link } from \"react-router-dom\"\nimport { Skeleton } from 'antd';\n\nexport default function () {\n  let [data, setData] = useState(homeStore.getState())\n  useEffect(() => {\n    let uns = homeStore.subscribe(() => setData(homeStore.getState()))\n    return () => uns()\n  }, [])\n  return (\n    <div className=\"toolbar\">\n      <div className=\"toolbar-user-data\">\n        <ToolbarHead data={data} />\n        <UserInfo cookieUser={data.cookieUser} user={data.user} />\n        <UserSign data={data} />\n      </div>\n      <Recommend data={data} />\n      <FooterBar />\n    </div>\n  )\n}\n\nfunction ToolbarHead(props) {\n  let cookieUser = props.data.cookieUser\n  let user = props.data.user || {}\n  let signOut = useCallback(() => {\n    axios.post('/api/clearCookie/')\n  }, [])\n  return (\n    <span>\n      {cookieUser !== undefined\n        ? <>欢迎用户 <Link to={'/user/' + user.userId} className=\"denglu-user\">{cookieUser}</Link>\n          <Link to=\"/sign\" className=\"dengchu\" onClick={signOut}>登出</Link></>\n        : <>当前处于未登录状态\n          <Link to=\"/sign\" className=\"dengchu\">登录/注册</Link></>\n      }\n    </span>\n  )\n}\n\nfunction Info(props) {\n  let user = props.user || {}\n  let [avatar, avatarChange] = useState(user.avatar)\n  //切换头像\n  let [hoverAvatar, setHover] = useState(false)\n  let avatarCutover = useCallback((e) => {\n    let data = new FormData()\n    data.append('avatar', e.target.files[0])\n    axios.post('/api/user-avatar/', data, {\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n    }).then(res => {\n      avatarChange(res.data)\n    })\n  }, [])\n  let inputAvatar = useCallback(() => {\n    document.querySelector('[name=\"avatar\"]').click()\n  }, [])\n  useEffect(() => {\n    avatarChange(user.avatar)\n  }, [user])\n  let pushUserPage = useCallback((idx) => {\n    if (props.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n    } else {\n      props.history.push(`/user/${user.userId}`)\n      userStore.dispatch({\n        type: 'activeSwitch',\n        active: idx,\n      })\n    }\n\n  }, [user, props])\n  useEffect(() => {\n    function switchAvatar() {\n      homeStore.dispatch({\n        type: 'hoverAvatar',\n        hover: true,\n      })\n    }\n    function clearAvatarEvent() {\n      homeStore.dispatch({\n        type: 'hoverAvatar',\n        hover: false,\n      })\n    }\n    let userAvatarDiv = document.querySelector('.user-avatar')\n    userAvatarDiv.addEventListener('mouseenter', switchAvatar)\n    userAvatarDiv.addEventListener('mouseleave', clearAvatarEvent)\n\n    let uns = homeStore.subscribe(() => setHover(homeStore.getState().hover))\n    return () => {\n      uns()\n      userAvatarDiv.removeEventListener('mouseenter', switchAvatar)\n      userAvatarDiv.removeEventListener('mouseleave', clearAvatarEvent)\n    }\n  }, [])\n\n  return (\n    <div className=\"user-info\">\n      {props.cookieUser\n        ? <div className=\"user-avatar\" onClick={inputAvatar} style={{ backgroundImage: `url(${avatar})` }}>\n          {/* <i className=\"switch\"> </i> */}\n          <input type=\"file\" name=\"avatar\" style={{ display: 'none' }} onChange={avatarCutover} />\n          {hoverAvatar &&\n            <div className=\"avatarMouseEnter\">\n              <SyncOutlined /><span>更换头像</span>\n            </div>\n          }\n        </div>\n        : <div className=\"user-avatar\" style={{ backgroundImage: `url('/images/default.jpg')` }}>\n        </div>\n      }\n      <ul className=\"user-bar\">\n        <li onClick={() => pushUserPage(0)}><span><ProjectFilled />全部动态</span></li>\n        <li onClick={() => pushUserPage(5)}><span><StarFilled />我的收藏</span></li>\n        <li onClick={() => pushUserPage(4)}><span><HeartFilled />我的关注</span></li>\n        <li onClick={() => pushUserPage(1)}><span><FileFilled />历史回答</span></li>\n      </ul>\n    </div>\n  )\n}\n\nexport const UserInfo = withRouter(Info)\nexport function UserSign(props) {\n  let data = props.data || {}\n  // debugger\n  //更新签名\n  let user = data.user || {}\n  let signChange = useCallback((e) => {\n    e.stopPropagation()\n    if (data.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n      return\n    }\n    let sign = document.querySelector('.user-sign-text')\n    sign.setAttribute('contenteditable', true)\n    sign.focus()\n    sign.onblur = () => {\n      axios.post('/api/sign-edit/', { user_sign: sign.textContent })\n      sign.setAttribute('contenteditable', false)\n    }\n  }, [data])\n  let lastSign = useRef('')\n  let signInput = useCallback((e) => {\n    let text = e.target.textContent\n    if (text.length === 30) {\n      lastSign.current = text\n    }\n    if (text.length > 30) {\n      e.target.innerText = lastSign.current\n    }\n  }, [])\n  return (\n    <div className=\"user-sign\">\n      <i className=\"el-icon-edit\" onClick={signChange}><EditOutlined style={{ fontSize: '16px', marginRight: '8px' }} /> </i>\n      {data.cookieUser\n        ? <span className=\"user-sign-text\" onInput={signInput}>{user ? user.sign : data.poster.sign}</span>\n        : <span>当前还未登录，赶快前往登录吧！</span>\n      }\n    </div>\n  )\n}\n\n\nexport function Recommend() {\n  let [data, upData] = useState(homeStore.getState())\n  let [loading, setLoading] = useState(true)\n\n  // let [divTop, upTop] = useState(0)\n  useEffect(() => {\n    //请求数据\n    axios.get('/api/home-data').then(res => {\n      let initial = res.data\n      homeStore.dispatch({\n        type: 'getData',\n        ...initial\n      })\n      setLoading(false)\n    })\n\n    let uns = homeStore.subscribe(() => upData(homeStore.getState()))\n    return () => uns()\n  }, [])\n\n  let recommend = data.recommend || new Array(15).fill('')\n  let recommendList = recommend.filter(it => it.status !== 'delete')\n\n  return (\n    <div className=\"recommend\"  >\n      <h3>热门问题</h3>\n      <ul className=\"recommend-list\">\n        {recommendList.slice(0, 15).map(item => {\n          return (\n            <li key={item.postId}>\n              <Skeleton active round paragraph={false} loading={loading}>\n                <Link to={\"/post-page/\" + item.postId} title={item.title}>{item.title}</Link>\n              </Skeleton>\n            </li>\n          )\n        })\n        }\n      </ul>\n      {/* <FooterBar /> */}\n    </div>\n  )\n}\n\nexport function FooterBar() {\n  return (\n    <div className=\"footer-bar\">\n      <p> 陈听水 然也指南 然也协议 然也隐私保护指引 <br />应用工作申请开通然也机构号<br />侵权举报网上有害信息举报专区<br />京 ICP 证 110745 号<br />京 ICP 备 13052560 号 - 1<br />京公网安备 11010802010035 号<br />互联网药品信息服务资格证书<br />（京）- 非经营性 - 2017 - 0067违法和不良信息举报：010-82716601<br /> 儿童色情信息举报专区<br />证照中心<br />联系我们 © 2020 然也</p>\n    </div>\n  )\n}\n","import React from 'react'\nimport Invitation from './invitation'\nimport Toolbar from './toolbar'\n\nexport default function () {\n  return (\n    <div className=\"body-container\">\n      <Invitation />\n      <Toolbar />\n    </div>\n  )\n}\n","import React, { useEffect, useState, useCallback } from 'react'\nimport Nav from '../components/header-nav'\nimport Question from '../components/question'\nimport { homeStore, navStore } from '../redux/redux'\nimport Container from '../components/body-container'\nimport axios from 'axios'\nimport { SearchOutlined } from '@ant-design/icons'\nimport { Link } from \"react-router-dom\"\nexport default function () {\n  let [state, setState] = useState(homeStore.getState())\n  // debugger\n\n  useEffect(() => {\n    axios.get('/api/home-data').then(res => {\n      let initial = res.data\n      homeStore.dispatch({\n        type: 'getData',\n        ...initial,\n        posts: initial.posts.filter(it => it.status !== 'delete'),\n        // postCount: initial.postCount,\n      })\n    })\n    let uns = homeStore.subscribe(() => setState(homeStore.getState()))\n\n    return () => uns()\n  }, [])\n\n  // useEffect(() => {\n  //   let uns = homeStore.subscribe(() => setState(homeStore.getState()))\n  //   console.log('shuxinle')\n  //   return () => uns()\n  // }, [])\n  return (\n    <>\n      <Nav>\n        <HomeNavChild state={state} />\n      </Nav>\n      {state.question &&\n        <Question />\n      }\n      <Container />\n    </>\n  )\n}\n\nfunction HomeNavChild({ state }) {\n  let postQuestion = useCallback(() => {\n    if (state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n      return\n    }\n    homeStore.dispatch({\n      type: 'question',\n      question: true,\n    })\n  }, [state])\n  return (\n    <div className=\"top-nav home-slider-nav\">\n      <Link to=\"/\" className=\"home-logo\">\n        <img src=\"/images/icon2.jpg\" alt=\"zhi 呼\" />\n      </Link>\n      <ContainerList />\n      <div className=\"search-div\">\n        <label className=\"search-label\">\n          <input type=\"search\" name=\"search\" className=\"search\" placeholder=\"功能尚未完善\" />\n          <SearchOutlined style={{ fontSize: '20px', color: '#9AA3B5' }} />\n        </label>\n        <input type=\"button\" className=\"question\" value=\"发帖\" onClick={postQuestion} />\n      </div>\n    </div>\n  )\n}\n\nexport function ContainerList() {\n  return (\n    <ul className=\"home-list\">\n      <li><Link to=\"/\">推荐</Link></li>\n      <li><Link to=\"/\">关注</Link></li>\n      <li><Link to=\"/\">热榜</Link></li>\n    </ul>\n  )\n}\n","import React, { useEffect, useState } from 'react'\n// import { Form, Input, Button, Checkbox, Space, message } from 'antd'\n// import { UserOutlined, LockOutlined } from '@ant-design/icons';\n// import { Redirect } from 'react-router-dom'\nimport { signStore } from '../redux/redux.js'\nimport './signin-component.css'\nimport Footer from './footer'\nimport Sign from './sign'\nimport { Link } from \"react-router-dom\"\n\nexport default function Login() {\n  let [state, setState] = useState(signStore.getState())\n\n  useEffect(() => {\n    let uns = signStore.subscribe(() => setState(signStore.getState()))\n    return () => uns()\n  })\n  return (\n    <div className=\"main\">\n      <img src=\"../images/login-top2.png\" alt=\"logo\" className=\"logo\" />\n      {state.sucessSignup &&\n        <Success props={state} />\n      }\n      <Sign state={state} />\n      <Footer />\n    </div>\n  )\n}\nfunction Success(props) {\n\n  return (\n    <div className=\"success-bg\">\n      <div className={'suc-transition success'}>\n        <img src=\"./images/loading.gif\" alt=\"注册成功\" />\n        <label className=\"label-visi\">\n          <span>注册成功！ </span> 点击 <Link to=\"/sign\">返回登陆界面</Link>\n        </label>\n      </div>\n    </div>\n  )\n}\n\n\n\n\n\n","import React from 'react'\nimport Signin from '../components/signin-component.js'\nimport './signin.css'\nexport default () => {\n  return (\n    <div className=\"login-container\">\n      <Signin />\n    </div>\n  )\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { UserInfo, FooterBar, Recommend, UserSign } from './toolbar'\n// import { HeartOutlined, CommentOutlined } from '@ant-design/icons';\nimport { pageStore, navStore, userStore } from '../redux/redux';\nimport PostsFooter from './postfooter'\nimport moment from 'moment';\nimport { Over, Attachment } from './invitation'\nimport axios from 'axios'\nimport CareMessage from './care-message'\nimport { withRouter } from 'react-router-dom'\nimport { Link } from \"react-router-dom\"\nimport { Skeleton } from 'antd';\n\nexport default function (props) {\n  let [data, Update] = useState(pageStore.getState())\n  useEffect(() => {\n    let uns = pageStore.subscribe(() => Update(pageStore.getState()))\n    return () => uns()\n  })\n  return (\n    <div className=\"body-container post-container\">\n      <Comment data={data} loading={props.loading} />\n      <ToolBar data={data} />\n    </div>\n  )\n}\n\n\nfunction Comment(props) {\n  let commenterInfo = props.data.commenterInfo || []\n  return (\n    <div className=\"invitation\">\n      {props.data.writeAnswer ? <AnswerDiv /> : ''}\n      <div className=\"comment-main\">\n        <ul className=\"comments-list\">\n          <CommentList commenterInfo={commenterInfo} loading={props.loading} />\n        </ul>\n      </div>\n      <Over />\n    </div>\n  )\n}\n//发评论\nfunction AnswerDiv() {\n  let { id } = useParams()\n  let submitAnswer = useCallback(() => {\n    let postAnswer = {\n      content: document.querySelector('.editing').value,\n      createdAt: Date.now(),\n    }\n    getNewCommenter()\n    async function getNewCommenter() {\n      await axios.post(`/api/post-page/${id}`, postAnswer)\n        .then(res => {\n          pageStore.dispatch({\n            type: 'postAnswer',\n            commenterInfo: res.data,\n          })\n        })\n        .catch(rej => {\n          if (rej.response.status === 401) {\n            navStore.dispatch({\n              type: 'toSign',\n              sign: false,\n            })\n          }\n        })\n\n    }\n  }, [id])\n  return (\n    <div className=\"answer-outer\">\n      <textarea className=\"editing\" placeholder=\"写回答...\"></textarea>\n      <div className=\"submit-answer\" >\n        <span onClick={submitAnswer}>提交回答</span>\n      </div>\n    </div>\n  )\n}\n\nfunction CommentList(props) {\n  let [data, Update] = useState(pageStore.getState())\n\n  useEffect(() => {\n    let uns = pageStore.subscribe(() => Update(pageStore.getState()))\n    return () => uns()\n  }, [])\n  // debugger\n\n  let commenterInfo = data.commenterInfo || new Array(5).fill('')\n  let commentNoamal = commenterInfo.filter(it => it.status !== 'delete')\n\n  let commentIdx = -1\n\n\n  if (!props.loading && commentNoamal.length === 0) {\n    return <li style={{ color: '#8590A6' }}>\n      当前帖子还没有回答，赶紧去添加回答吧！\n      </li>\n  } else {\n    return (\n      commentNoamal.map((item) => {\n        commentIdx++\n        return < Skeleton loading={props.loading} >\n          <CommentItem item={item} data={data} idx={commentIdx} key={item.createdAt} />\n        </Skeleton>\n\n      })\n    )\n  }\n\n}\n\nfunction CommentItem(props) {\n  let item = props.item\n  let data = props.data\n  let idx = props.idx\n  let time = item.createdAt * 1\n  let TIME = moment(time).endOf().fromNow(true) + '前'\n\n  return (\n    <li key={item.createdAt}>\n      <div className=\"commenter-info\" >\n        <Link to={`/user/${item.userId}`}><i className=\"commenter-avatar\" style={{ backgroundImage: `url(${item.avatar})` }}></i></Link>\n        <div className=\"commenter-flag\">\n          <Link className=\"commenter-name\" to={`/user/${item.userId}`}>{item.name}</Link>\n          <span className=\"commenter-sign\">{item.sign}</span>\n          <Attachment state={data} post={item} type='comment' />\n        </div>\n      </div>\n      <div className=\"content-div \" name=\"content\">\n        <p className=\"flodContent\"><span>{item.content}</span></p>\n        <span className=\"answerAt\">\n          发布于 &nbsp;\n        {parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n            moment(item.createdAt * 1).format(\"YYYY-MM-DD HH:mm:ss\")\n            : TIME\n          }\n        </span>\n        <div className=\"commenter-footer\">\n          <PostsFooter comment={item} idx={idx} state={data} />\n        </div>\n      </div>\n\n    </li>\n  )\n}\n\nfunction ToolBar(props) {\n  let data = props.data || {}\n  let poster = data.poster || {}\n  return (\n    <div className=\"toolbar\">\n      <div className=\"toolbar-user-data\">\n        <h4 style={{ color: 'rgb(118,131,155)' }}>关于提问者</h4>\n        {poster.name === data.cookieUser\n          ? <>\n            <UserInfo cookieUser={data.cookieUser} user={data.poster} />\n            <UserSign data={data} />\n          </>\n          : <PosterInfo poster={poster} />\n        }\n      </div>\n      <Recommend />\n      <FooterBar />\n    </div>\n  )\n}\n\nfunction Info(props) {\n\n  let poster = props.poster\n  let toUserPage = useCallback((one, sen) => {\n    props.history.push(`/user/${poster.userId}`)\n    userStore.dispatch({\n      type: 'activeSwitch',\n      active: one,\n    })\n    if (sen !== undefined) {\n      userStore.dispatch({\n        type: 'collectActive',\n        active: sen,\n      })\n    }\n  }, [poster, props.history])\n  return (\n    <div className=\"posterInfo\">\n      <div className=\"posterInfo-user\">\n        <Link to={`/user/${poster.userId}`}>\n          <i className=\"post-avatar\" style={{ backgroundImage: `url(${poster.avatar})` }}></i>\n        </Link>\n        <div className=\"poster-userInfo\">\n          <Link to={`/user/${poster.userId}`}><h3>{poster.name}</h3></Link>\n          <span>{poster.sign}</span>\n        </div>\n      </div>\n      <div >\n        <ul className=\"posterInfo-other\">\n          <li onClick={() => toUserPage(1)}><span>回答</span><br />{poster.commentCount}</li>\n          <li onClick={() => toUserPage(2)}><span>提问</span><br />{poster.postCount}</li>\n          <li onClick={() => toUserPage(4, 2)}><span>关注者</span><br />{poster.fans}</li>\n        </ul>\n        <CareMessage careInfo={poster} />\n      </div>\n    </div>\n  )\n}\nconst PosterInfo = withRouter(Info)\n\n// function PoseteSections(props) {\n//   return (\n//     <></>\n//   )\n// }\n","import React, { useCallback, useEffect, useRef, useState } from 'react'\nimport axios from 'axios'\nimport { Link } from \"react-router-dom\"\nimport { Button } from 'antd'\nimport './user-page.css'\nimport { careStore, pageStore } from '../redux/redux'\nimport { useParams } from 'react-router-dom'\n\nexport default function ({ userId }) {\n  let { id } = useParams()\n  let [cares, setCare] = useState([])\n  useEffect(() => {\n    let uns = careStore.subscribe(() => setCare(careStore.getState().myCares))\n    return () => uns()\n  }, [])\n  let outerRef = useRef()\n  useEffect(() => {\n    //获取关注列表\n    axios.get(`/api/get-care/${userId}`)\n      .then(res => {\n        careStore.dispatch({\n          type: 'getCare',\n          myCares: res.data.myCares,\n        })\n      })\n    //获取邀请状态\n    axios.get(`/api/invite/${id}`)\n      .then(res => {\n        pageStore.dispatch({\n          type: 'getInitial',\n          inviteList: res.data.inviteList,\n        })\n      })\n\n  }, [id, userId])\n  useEffect(() => {\n    let foo = document.querySelector('.invite-outer')\n    foo.onmousewheel = (e) => {\n      e.preventDefault()\n    }\n\n    return () => foo.onmousewheel = null\n  }, [])\n  let inviteEnd = useCallback(() => {\n    pageStore.dispatch({\n      type: 'invite',\n      invite: false,\n    })\n  }, [])\n  useEffect(() => {\n    function clearInvite(e) {\n      e.stopPropagation()\n      if (e.target === outerRef.current || e.target === document.body) {\n        inviteEnd()\n      }\n    }\n    window.addEventListener('click', clearInvite)\n    return () => window.removeEventListener('click', clearInvite)\n  }, [inviteEnd])\n  return (\n    <div className=\"invite-outer\" ref={outerRef}>\n      <div className=\"invite-main\">\n        <div className=\"invite-header\"><h2>选择想要邀请的用户<span> * 只能邀请关注用户，请多多充实关注列表吧！</span></h2>\n          <Button type=\"primary\" size=\"middle\" onClick={inviteEnd}>完成</Button></div>\n        <ul className=\"invite-list\">\n          {cares.length === 0 && <li className=\"no-invite\"><span >还没有关注过用户，邀请列表太冷清啦！</span></li>}\n          {cares.map(invite => {\n            return <li key={invite.createdAt}><InviteItem invite={invite} /></li>\n          })}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nfunction InviteItem({ invite }) {\n  let { id } = useParams()\n  let [complete, setComplete] = useState(false)\n  let [clear, setClear] = useState(false)\n  useEffect(() => {\n    function updateInvite() {\n      let inviteList = pageStore.getState().inviteList || []\n      let temp = inviteList.some(it => it.targetId === invite.careId)\n      setComplete(temp)\n    }\n    updateInvite()\n    let uns = pageStore.subscribe(() => updateInvite())\n    return () => uns()\n  }, [invite])\n\n  let toInvite = useCallback((type) => {\n    axios.post('/api/invite', {\n      type: type,\n      postId: id,\n      targetId: invite.careId,\n      targetName: invite.careName,\n    }).then(res => {\n      pageStore.dispatch({\n        type: 'upDateInvite',\n        inviteList: res.data.newInvites\n      })\n    })\n  }, [id, invite])\n  return (\n    <div className=\"invite-item\">\n      <Link to={`/user/${invite.careId}`}><i style={{ backgroundImage: `url(${invite.avatar})` }} className=\"invite-avatar\"></i></Link>\n      <div className=\"invite-userInfo\">\n        <Link to={`/user/${invite.careId}`}><h4>{invite.careName}<span>  -  {invite.industry}</span></h4></Link>\n        <span>{invite.sign}</span>\n      </div>\n      {complete\n        ? <Button type=\"ghost\" onClick={() => toInvite('revoke')} style={{ width: '100px', color: 'rgb(138 138 138)' }} onMouseEnter={() => setClear(true)} onMouseLeave={() => setClear(false)}>{clear ? '取消邀请' : '已邀请'}</Button>\n        : <Button type=\"ghost\" style={{ width: '100px', borderColor: '#40a9ff', color: '#40a9ff' }} onClick={() => toInvite('active')}>邀请回答</Button>\n      }\n\n    </div>\n  )\n}\n","import React, { useCallback, useEffect, useRef, useState, useMemo } from 'react'\nimport axios from 'axios'\nimport { useParams } from 'react-router-dom'\nimport './post.css'\nimport PostContainer from './post-container'\nimport { FormOutlined, MessageFilled, FireFilled, UserAddOutlined } from '@ant-design/icons';\nimport { pageStore, navStore } from '../redux/redux'\n// var POST_DATA\nimport Nav from '../components/header-nav'\nimport moment from 'moment';\nimport Invite from './invite'\nimport { Skeleton } from 'antd';\n\nexport default function () {\n  let { id = 1 } = useParams()\n  let [data, Update] = useState(pageStore.getState())\n  let [invite, setInvite] = useState(false)\n  let [loading, setLoading] = useState(true)\n  useEffect(() => {\n    let uns = pageStore.subscribe(() => setInvite(pageStore.getState().invite))\n    return () => uns()\n  }, [])\n  useEffect(() => {\n    const getInitial = async () => {\n      const result = await axios.get(`/api/post-page/${id}`)\n      pageStore.dispatch({\n        type: 'getInitial',\n        ...result.data,\n      })\n      setLoading(false)\n    }\n    getInitial()\n    let uns = pageStore.subscribe(() => Update(pageStore.getState()))\n\n    return () => uns()\n  }, [id])\n\n  return (\n    <>\n      <Nav page={\"post\"}>\n        <PostNavChild data={data} />\n      </Nav>\n      <PostInfo>\n        <PostTitle data={data} loading={loading} />\n        <Poster data={data} />\n      </PostInfo>\n      <PostContainer data={data} loading={loading} />\n      {invite && <Invite id={id} />}\n    </>\n  )\n}\nfunction PostNavChild({ data }) {\n  let post = data.post || {}\n  let writeAnswer = useCallback(() => {\n    pageStore.dispatch({\n      type: 'writeAnswer',\n      writeAnswer: !data.writeAnswer,\n    })\n    document.documentElement.scrollTop = 0\n    let sliderNav = document.querySelector('.nav-slider-outer')\n    sliderNav.style.top = '0px'\n  }, [data])\n\n  return (\n    <div className=\"post-nav-slider\">\n      <h1 title={post.title}>{post.title}</h1>\n      <div className=\"post-footer-list\">\n        <Attention data={data} />\n        <div className=\"answer\" onClick={writeAnswer}><FormOutlined />写回答</div>\n      </div>\n    </div>\n  )\n}\n\nfunction PostInfo(props) {\n  return <div className=\"post-info post-top\">{props.children}</div>\n}\n\nfunction PostTitle(props) {\n  // debugger\n  let data = props.data\n  let commenterInfo = data.commenterInfo || []\n  let post = props.data.post || {}\n  let [hide, upHide] = useState(false)\n  let [fold, setFlod] = useState(true)\n\n  let answerCount = commenterInfo.filter(it => it.status !== 'delete')\n\n  let writeAnswer = useCallback(() => {\n    pageStore.dispatch({\n      type: 'writeAnswer',\n      writeAnswer: !data.writeAnswer,\n    })\n  }, [data])\n\n  useEffect(() => {\n    let span = document.querySelector('.post-content span')\n    let p = document.querySelector('.post-content')\n    if (span && span.offsetHeight >= 72) {\n      p.style.height = '72px'\n      upHide(true)\n    }\n  }, [props.loading])\n\n  let foldCutover = useCallback(() => {\n    let p = document.querySelector('.post-content')\n    let span = document.querySelector('.post-content span')\n    if (fold) {\n      p.style.display = 'block'\n      p.style.height = span.offsetHeight + 3 + 'px'\n      setFlod(false)\n    } else {\n      p.style.display = '-webkit-box'\n      p.style.height = '72px'\n      setFlod(true)\n    }\n  }, [fold])\n  let toInvite = useCallback(() => {\n    if (data.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n      return\n    }\n    pageStore.dispatch({\n      type: 'invite',\n      invite: true,\n    })\n  }, [data])\n  return (\n    <div className=\"post-main\">\n      <Skeleton title={{ width: 300 }} paragraph={false} loading={props.loading} round>\n        <h1>{post.title}</h1>\n      </Skeleton>\n      <Skeleton active loading={props.loading} paragraph={{ rows: 2 }} round title={false}>\n        <p className=\"post-content\"><span>{post.content}</span></p>\n      </Skeleton >\n      <div className=\"post-footer-list\">\n        <Attention data={data} />\n        <div className=\"answer\" onClick={writeAnswer}><FormOutlined />写回答</div>\n        <div className=\"admire-qus\" onClick={toInvite}><UserAddOutlined />邀请回答</div>\n        <ul className=\"other-info\">\n          <li className=\"comments-count\">\n            <MessageFilled />\n            <span>{answerCount.length}&nbsp;条回答</span>\n          </li>\n          <li className=\"pageview\"><FireFilled /><span>{post.pageview}&nbsp;浏览量</span></li>\n          {/* <li className=\"unfold\"><span>...</span></li> */}\n          {hide &&\n            <li className=\"hide\" onClick={foldCutover}><span>{fold ? '展开' : '收起'}</span></li>\n          }\n        </ul>\n      </div>\n\n    </div>\n  )\n}\n\n\nfunction Attention({ data }) {\n  let { id } = useParams()\n  let [attention, upVoke] = useState(pageStore.getState().attention)\n  let attenRef = useRef()\n  //attention\n  let toAttention = useCallback(() => {\n    if (data.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n    } else {\n      pageStore.dispatch({\n        type: 'toAttention',\n        attention: !attention,\n        pageId: id,\n      })\n    }\n  }, [attention, id, data])\n\n  useEffect(() => {\n    let uns = pageStore.subscribe(() => upVoke(pageStore.getState().attention))\n\n    if (attention) {\n      attenRef.current.onmouseenter = () => {\n        attenRef.current.innerText = '取消关注'\n      }\n      attenRef.current.onmouseleave = () => {\n        attenRef.current.innerText = '已关注'\n      }\n    }\n    function clearMousevent() {\n      attenRef.current.onmouseenter = null;\n      attenRef.current.onmouseleave = null\n    }\n\n    return () => { uns(); clearMousevent() }\n  }, [attention, id])\n\n  return (\n    <div className={attention ? \"revoke\" : \"guanzhu\"} onClick={toAttention} ref={attenRef} >{attention ? \"已关注\" : \"关注问题\"}</div>\n  )\n}\n\nfunction Poster(props) {\n  let data = props.data\n  let commenterInfo = data.commenterInfo || []\n  let answerCount = commenterInfo.filter(it => it.status !== 'delete')\n  let time = data.post && data.post.createdAt * 1\n  let TIME = moment(time).endOf().fromNow(true) + '前'\n\n  return (\n    <div className=\"post-other\">\n      <ul>\n        <li className=\"post-other-line\"><span>关注数</span><br />{data.attentionLength}</li>\n        <li><span>回答数</span><br />{answerCount.length}</li>\n      </ul>\n      <div className=\"post-other-time\"><span>发帖时间：</span>\n        {parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n          moment(time).format(\"YYYY-MM-DD HH:mm:ss\")\n          : TIME\n        }</div>\n    </div>\n  )\n}\n","import React, { useEffect, useState, useCallback } from 'react'\n// import Nav from '../components/header-nav'\nimport Question from '../components/question'\nimport Post from '../components/post-page'\nimport { homeStore } from '../redux/redux'\n\n\nexport default function () {\n  let [state, setState] = useState(homeStore.getState())\n\n  useEffect(() => {\n    let uns = homeStore.subscribe(() => setState(homeStore.getState()))\n    return () => uns()\n  }, [])\n\n  return (\n    <>\n      {state.question &&\n        <Question />\n      }\n      <Post />\n    </>\n  )\n}\n\n","import React, { useEffect, useState, useCallback } from 'react'\nimport { Input, Radio, Button, DatePicker } from 'antd'\nimport { EditFilled } from '@ant-design/icons';\n// import { Redirect } from 'react-router-dom'\nimport { userStore } from '../redux/redux.js'\nimport './signin-component.css'\nimport 'antd/dist/antd.css'\nimport axios from 'axios'\n// import locale from 'antd/es/locale/zh_CN';\n// import Footer from './footer'\n// import Sign from './sign'\n\nexport default function () {\n  let [state, setState] = useState(userStore.getState())\n  let { userInfo = {} } = state\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setState(userStore.getState()))\n    return () => uns()\n  }, [])\n  let editEnd = useCallback(() => {\n    userStore.dispatch({\n      type: 'editEnd',\n      edit: false,\n    })\n  }, [])\n  return (\n    <div className=\"edit-container-bg\">\n      <div className=\"edit-outer\">\n        <form action=\"/api/edit-userInfo\" method=\"post\" className=\"edit-form\">\n          <ul>\n            <li><h2>王司徒</h2><span style={{ fontWeight: '100' }}>* 鼠标移到用户头像即可修改头像</span><Button onClick={editEnd} type=\"primary\">修改完成</Button></li>\n            <Sex sex={userInfo.sex} />\n            <Birthday birthday={userInfo.birthday} />\n            <Address address={userInfo.address} />\n            <Sign sign={userInfo.sign} />\n            <Industry industry={userInfo.industry} />\n            <Introduction introduction={userInfo.introduction} />\n            <Sociality sociality={userInfo.sociality} />\n          </ul>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nfunction Sex(props) {\n  let [state, setState] = useState(false)\n  let [sex, setSex] = useState(props.sex)\n  let editSex = useCallback(() => {\n    setState(!state)\n  }, [state])\n\n  let saveEdit = useCallback(() => {\n    axios.post('/api/edit-userInfo', {\n      type: 'sex',\n      sex,\n    }).then(res => {\n      userStore.dispatch({\n        type: 'editUserInfo',\n        sex,\n      })\n      setState(false)\n    })\n  }, [sex])\n  return (\n    <li className=\"edit-sex\">\n      <span>性别</span>\n      {state\n        ? <div>\n          <Radio.Group value={sex} onChange={() => sex === 'man' ? setSex('female') : setSex('man')}>\n            <Radio value={'man'} checked={props.sex === 'man'}>男</Radio>\n            <Radio value={'female'} checked={props.sex === 'female'}>女</Radio>\n          </Radio.Group>\n          <div className=\"saveEdit\">\n            <Button size=\"small\" type=\"primary\" onClick={saveEdit}>保存</Button>\n            <Button size=\"small\" onClick={() => setState(false)}>取消</Button>\n          </div>\n        </div>\n\n        : <div className=\"saveEdit\"><span>{sex === 'man' ? '男' : '女'}</span><EditFilled onClick={editSex} style={{ color: '#40a9ff' }} /></div>\n      }\n    </li>\n  )\n}\n\nfunction Sign(props) {\n  let [state, setState] = useState(false)\n  let [sign, setSign] = useState(props.sign)\n  let [limit, setLimit] = useState(false)\n  let editSign = useCallback(() => {\n    setState(!state)\n  }, [state])\n\n  let saveEdit = useCallback(() => {\n    axios.post('/api/edit-userInfo', {\n      type: 'sign',\n      sign,\n    }).then(res => {\n      userStore.dispatch({\n        type: 'editUserInfo',\n        sign,\n      })\n      setState(false)\n    })\n  }, [sign])\n\n  let editSignInput = useCallback((e) => {\n    if (e.target.value.length > 30) {\n      setLimit(true)\n      return\n    } else {\n      setLimit(false)\n      setSign(e.target.value)\n    }\n  }, [])\n  return (\n    <li className=\"edit-sign\">\n      <span>一句话介绍</span>\n      {state\n        ? <div>\n          <Input value={sign} onInput={editSignInput} style={limit ? { borderColor: 'red' } : {}} />\n          <div className=\"saveEdit\">\n            <Button size=\"small\" type=\"primary\" onClick={saveEdit}>保存</Button>\n            <Button size=\"small\" onClick={() => { setState(false); setSign(props.sign) }}>取消</Button>\n          </div>\n        </div>\n\n        : <div className=\"saveEdit\"><span>{sign}</span><EditFilled onClick={editSign} style={{ color: '#40a9ff' }} /></div>\n      }\n    </li >\n  )\n}\n\nfunction Address(props) {\n  let [state, setState] = useState(false)\n  let [address, setAddress] = useState(props.address)\n  let [limit, setLimit] = useState(false)\n  let editaddress = useCallback(() => {\n    setState(!state)\n  }, [state])\n\n  let saveEdit = useCallback(() => {\n    axios.post('/api/edit-userInfo', {\n      type: 'address',\n      address,\n    }).then(res => {\n      userStore.dispatch({\n        type: 'editUserInfo',\n        address,\n      })\n      setState(false)\n    })\n  }, [address])\n\n  let editAddressIput = useCallback((e) => {\n    if (e.target.value.length > 10) {\n      setLimit(true)\n      return\n    } else {\n      setLimit(false)\n      setAddress(e.target.value)\n    }\n  }, [])\n  return (\n    <li className=\"edit-address\">\n      <span>现居地</span>\n      {state\n        ? <div>\n          <Input value={address} onInput={editAddressIput} style={limit ? { borderColor: 'red' } : {}} />\n          <div className=\"saveEdit\">\n            <Button size=\"small\" type=\"primary\" onClick={saveEdit}>保存</Button>\n            <Button size=\"small\" onClick={() => { setState(false); setAddress(props.address) }}>取消</Button>\n          </div>\n        </div>\n\n        : <div className=\"saveEdit\"><span>{props.address}</span><EditFilled onClick={editaddress} style={{ color: '#40a9ff' }} /></div>\n      }\n    </li >\n  )\n}\n\nfunction Birthday(props) {\n  let [state, setState] = useState(false)\n  let [birthday, setBirthday] = useState(props.birthday)\n  let editState = useCallback(() => {\n    setState(!state)\n  }, [state])\n\n  let saveEdit = useCallback(() => {\n    axios.post('/api/edit-userInfo', {\n      type: 'birthday',\n      birthday,\n    }).then(res => {\n      userStore.dispatch({\n        type: 'editUserInfo',\n        birthday,\n      })\n      setState(false)\n    })\n  }, [birthday])\n\n  let editBirthday = useCallback((e) => {\n    let date = document.querySelector('.edit-birthday input')\n    setBirthday(date.value)\n  }, [])\n  return (\n    <li className=\"edit-birthday\">\n      <span>生日</span>\n      {state\n        ? <div>\n          <DatePicker onChange={editBirthday} />\n          <div className=\"saveEdit\">\n            <Button size=\"small\" type=\"primary\" onClick={saveEdit}>保存</Button>\n            <Button size=\"small\" onClick={() => { setState(false); setBirthday(props.birthday) }}>取消</Button>\n          </div>\n        </div>\n\n        : <div className=\"saveEdit\"><span>{birthday.slice(5)}</span><EditFilled onClick={editState} style={{ color: '#40a9ff' }} /></div>\n      }\n    </li >\n  )\n}\n\nfunction Industry(props) {\n  let [state, setState] = useState(false)\n  let [industry, setIndustry] = useState(props.industry)\n  let [limit, setLimit] = useState(false)\n  let editIndustry = useCallback(() => {\n    setState(!state)\n  }, [state])\n\n  let saveEdit = useCallback(() => {\n    axios.post('/api/edit-userInfo', {\n      type: 'industry',\n      industry,\n    }).then(res => {\n      userStore.dispatch({\n        type: 'editUserInfo',\n        industry,\n      })\n      setState(false)\n    })\n  }, [industry])\n\n  let editIndustryIput = useCallback((e) => {\n    if (e.target.value.length > 10) {\n      setLimit(true)\n      return\n    } else {\n      setLimit(false)\n      setIndustry(e.target.value)\n    }\n  }, [])\n  return (\n    <li className=\"edit-industry\">\n      <span>所在行业</span>\n      {state\n        ? <div>\n          <Input value={industry} onInput={editIndustryIput} style={limit ? { borderColor: 'red' } : {}} />\n          <div className=\"saveEdit\">\n            <Button size=\"small\" type=\"primary\" onClick={saveEdit}>保存</Button>\n            <Button size=\"small\" onClick={() => { setState(false); setIndustry(props.industry) }}>取消</Button>\n          </div>\n        </div>\n\n        : <div className=\"saveEdit\"><span>{props.industry}</span><EditFilled onClick={editIndustry} style={{ color: '#40a9ff' }} /></div>\n      }\n    </li >\n  )\n}\n\n\nconst { TextArea } = Input;\nfunction Introduction(props) {\n  let [state, setState] = useState(false)\n  let [summary, setSummary] = useState(props.introduction)\n  let [limit, setLimit] = useState(false)\n  let editSummary = useCallback(() => {\n    setState(!state)\n  }, [state])\n\n  let saveEdit = useCallback(() => {\n    axios.post('/api/edit-userInfo', {\n      type: 'introduction',\n      introduction: summary,\n    }).then(res => {\n      userStore.dispatch({\n        type: 'editUserInfo',\n        introduction: summary,\n      })\n      setState(false)\n    })\n  }, [summary])\n\n  let editIntroduction = useCallback((e) => {\n    if (e.target.value.length > 150) {\n      setLimit(true)\n      return\n    } else {\n      setLimit(false)\n      setSummary(e.target.value)\n    }\n  }, [])\n  return (\n    <li className=\"edit-introduction\">\n      <span>个人简介</span>\n      {state\n        ? <div>\n          <TextArea value={summary} onInput={editIntroduction} style={limit ? { borderColor: 'red' } : {}} />\n          <div className=\"saveEdit\">\n            <Button size=\"small\" type=\"primary\" onClick={saveEdit}>保存</Button>\n            <Button size=\"small\" onClick={() => { setState(false); setSummary(props.introduction) }}>取消</Button>\n          </div>\n        </div>\n\n        : <div className=\"saveEdit\"><span>{summary}</span><EditFilled onClick={editSummary} style={{ color: '#40a9ff' }} /></div>\n      }\n    </li >\n  )\n}\n\nfunction Sociality(props) {\n  let [state, setState] = useState(false)\n  let [sociality, setSociality] = useState(props.sociality)\n  let [limit, setLimit] = useState(false)\n  let editSociality = useCallback(() => {\n    setState(!state)\n  }, [state])\n\n  let saveEdit = useCallback(() => {\n    axios.post('/api/edit-userInfo', {\n      type: 'sociality',\n      sociality,\n    }).then(res => {\n      userStore.dispatch({\n        type: 'editUserInfo',\n        sociality,\n      })\n      setState(false)\n    })\n  }, [sociality])\n\n  let editSocialityIput = useCallback((e) => {\n    if (e.target.value.length > 50) {\n      setLimit(true)\n      return\n    } else {\n      setLimit(false)\n      setSociality(e.target.value)\n    }\n  }, [])\n  return (\n    <li className=\"edit-industry\">\n      <span>社交地址</span>\n      {state\n        ? <div>\n          <Input value={sociality} onInput={editSocialityIput} style={limit ? { borderColor: 'red' } : {}} />\n          <div className=\"saveEdit\">\n            <Button size=\"small\" type=\"primary\" onClick={saveEdit}>保存</Button>\n            <Button size=\"small\" onClick={() => { setState(false); setSociality(props.sociality) }}>取消</Button>\n          </div>\n        </div>\n\n        : <div className=\"saveEdit\"><span>{sociality}</span><EditFilled onClick={editSociality} style={{ color: '#40a9ff' }} /></div>\n      }\n    </li >\n  )\n}\n","import React, { useCallback, useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { ManOutlined, DownOutlined, UpOutlined, MailOutlined, WomanOutlined, CameraOutlined } from '@ant-design/icons'\nimport './user-page.css'\nimport { userStore, homeStore } from '../redux/redux'\nimport EditUser from './edit-userInfo'\nimport CareMessage from './care-message'\nimport { Skeleton } from 'antd';\n\nexport default function () {\n\n  return (\n    <div className=\"user-page \">\n      <div className=\"user-header-bg\">\n        <UserHeader />\n      </div>\n    </div>\n  )\n}\n\nfunction UserHeader() {\n  let [state, setState] = useState({})\n  let userInfo = state.userInfo || {}\n  let [loading, setLoading] = useState(true)\n  useEffect(() => {\n    if (state.userInfo) {\n      setLoading(false)\n    }\n  }, [state.userInfo])\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setState(userStore.getState()))\n    return () => uns()\n  }, [])\n  let [avatar, avatarChange] = useState(userInfo.avatar)\n  //切换头像\n  let [hoverAvatar, setHover] = useState(false)\n  let avatarCutover = useCallback((e) => {\n    let data = new FormData()\n    data.append('avatar', e.target.files[0])\n    axios.post('/api/user-avatar/', data, {\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n    }).then(res => {\n      avatarChange(res.data)\n    })\n  }, [])\n  let inputAvatar = useCallback(() => {\n    document.querySelector('[name=\"avatar\"]').click()\n  }, [])\n\n  useEffect(() => {\n    avatarChange(userInfo.avatar)\n  }, [userInfo])\n  useEffect(() => {\n    function switchAvatar() {\n      homeStore.dispatch({\n        type: 'hoverAvatar',\n        hover: true,\n      })\n    }\n    function clearAvatarEvent() {\n      homeStore.dispatch({\n        type: 'hoverAvatar',\n        hover: false,\n      })\n    }\n    let userAvatarDiv = document.querySelector('.User-avatar')\n    userAvatarDiv.addEventListener('mouseenter', switchAvatar)\n    userAvatarDiv.addEventListener('mouseleave', clearAvatarEvent)\n    let uns = homeStore.subscribe(() => setHover(homeStore.getState().hover))\n    return () => {\n      uns()\n      userAvatarDiv.removeEventListener('mouseenter', switchAvatar)\n      userAvatarDiv.removeEventListener('mouseleave', clearAvatarEvent)\n    }\n  }, [userInfo])\n\n\n  let [flod, setFlod] = useState(false)\n  let flodClick = useCallback(() => {\n    setFlod(!flod)\n  }, [flod])\n\n  let editState = useCallback(() => {\n    userStore.dispatch({\n      type: 'editState',\n      edit: true\n    })\n  }, [])\n\n  // debugger\n  return (\n    <>\n      <div className=\"user-header\">\n        <div className=\"UserCover-bg\"></div>\n        <div className=\"User-avatar\" style={{ backgroundImage: `url(${avatar})` }} >\n          <Skeleton loading={loading} active avatar={{ size: 140, shape: 'square' }} >\n            <input type=\"file\" name=\"avatar\" style={{ display: 'none' }} onChange={avatarCutover} />\n            {hoverAvatar && userInfo.name === state.cookieUser &&\n              <div className=\"avatarMouseEnter\" onClick={inputAvatar}>\n                <CameraOutlined style={{ fontSize: '18px' }} /><span>更换头像</span>\n              </div>\n            }\n          </Skeleton>\n        </div>\n        <div className={flod ? 'UserDetailed UserDetailed-flod' : 'UserDetailed'}>\n          <div className=\"User-data\">\n            <Skeleton loading={loading} active round >\n              <h2>{userInfo.name}</h2>\n              <span className=\"sign\">{userInfo.sign}</span>\n              <UserDataList flod={flod} />\n              <UserBaseData flod={flod} />\n            </Skeleton>\n          </div>\n          <div className=\"User-data-bottom\">\n            <Skeleton loading={loading} active round title={false} paragraph={{ width: [300, 600] }}>\n              {flod\n                ? <span onClick={flodClick}><UpOutlined />  收起详细资料</span>\n                : <span onClick={flodClick}><DownOutlined />  查看详细资料</span>\n              }\n              {state.cookieUser === userInfo.name\n                ? <div className=\"user-editing\" onClick={editState}>编辑个人资料</div>\n                : <div className=\"other-user\"><CareMessage careInfo={state.userInfo} /></div>\n              }\n\n            </Skeleton>\n          </div>\n        </div>\n      </div>\n      {state.edit && <EditUser />}\n\n    </>\n  )\n}\n\nfunction UserBaseData(props) {\n  let flod = props.flod\n  let [state, setState] = useState({})\n  let userInfo = state.userInfo || {}\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setState(userStore.getState()))\n\n    return () => uns()\n  }, [])\n  return (\n    <>\n      <ul className={flod ? 'User-data-base' : 'User-data-base active'}>\n        <li><MailOutlined /><span> &nbsp; &nbsp;{userInfo.sociality}</span> </li>\n        <li><span style={{ color: '#cacaca' }}>|</span>\n          {userInfo.sex === 'man'\n            ? <ManOutlined style={{ marginLeft: '15px', color: '#0084FF' }} />\n            : <WomanOutlined style={{ marginLeft: '15px', color: '#e49eab' }} />\n          }\n        </li>\n      </ul>\n    </>\n  )\n}\n\nfunction UserDataList(props) {\n  let flod = props.flod\n  let [state, setState] = useState({})\n  let userInfo = state.userInfo || {}\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setState(userStore.getState()))\n\n    return () => uns()\n  }, [])\n  return (\n    <ul className={flod ? 'User-data-list active' : 'User-data-list'} >\n      <li><span>现居地</span><span>{userInfo.address}</span></li>\n      <li><span>生日</span><span>{userInfo.birthday && userInfo.birthday.slice(5)}</span></li>\n      <li><span>所在行业</span><span>{userInfo.industry}</span></li>\n      <li><span>个人简介</span><span>{userInfo.introduction}</span></li>\n      <li><span>社交地址</span><span>{userInfo.sociality}</span></li>\n    </ul>\n  )\n}\n\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { userStore } from '../redux/redux'\nimport { FooterBar } from './toolbar'\nimport { withRouter } from 'react-router-dom'\nimport { LikeFilled } from '@ant-design/icons'\n\nexport default function UserBar() {\n  return (\n    <div className=\"toolbar\">\n      <Score />\n      <FooterBar />\n    </div>\n  )\n}\nfunction UserScore() {\n  let [state, setState] = useState(userStore.getState() || {})\n  let { userInfo = {} } = state\n  let isMe = state.cookieUser === userInfo.name\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setState(userStore.getState()))\n    return () => uns()\n  }, [])\n\n  let careQuestion = useCallback((one, sen) => {\n    userStore.dispatch({\n      type: 'activeSwitch',\n      active: one,\n    })\n    userStore.dispatch({\n      type: 'careActive',\n      careActive: sen,\n    })\n  }, [])\n  let collectActive = useCallback((one, sen) => {\n    userStore.dispatch({\n      type: 'activeSwitch',\n      active: one,\n    })\n    userStore.dispatch({\n      type: 'collectActive',\n      collectActive: sen,\n    })\n  }, [])\n  return (\n    <>\n      <div className=\"person-honor\">\n        <h4>个人成就</h4>\n        <ul>\n          <li><LikeFilled style={{ fontSize: '16px' }} /></li>\n          <li>\n            <span>获得了 {userInfo.agree} 次赞同</span>\n            <span>{userInfo.collect} 次收藏</span>\n            <span>{userInfo.favorite} 次喜欢</span>\n          </li>\n        </ul>\n      </div>\n      <div className=\"user-score\">\n        <div className=\"likes\" onClick={() => careQuestion(4, 1)}><h4>关注了</h4><span>{userInfo.care}</span></div>\n        <div className=\"fans\" onClick={() => careQuestion(4, 2)}><h4>关注者</h4><span>{userInfo.fans}</span></div>\n      </div>\n      <div>\n        <ul className=\"user-bar-list\">\n          <li onClick={() => careQuestion(4, 0)}><span>关注的问题</span><span>{state.attentionDynamic && state.attentionDynamic.length}</span></li>\n          <li onClick={() => collectActive(5, 0)}><span>收藏的问题</span><span>{state.collectQues && state.collectQues.length}</span></li>\n          <li onClick={() => collectActive(5, 1)}><span>收藏的回答</span><span>{state.collectComment && state.collectComment.length}</span></li>\n          <li onClick={() => careQuestion(4, 1)}><span>{isMe ? '我' : userInfo.sex === 'man' ? '他' : '她'}关注的人</span><span>{userInfo.care}</span></li>\n        </ul>\n      </div>\n    </>\n  )\n}\n\nconst Score = withRouter(UserScore)\n","import React, { Fragment, useCallback, useEffect, useState } from 'react'\nimport axios from 'axios'\nimport { CheckCircleFilled, ManOutlined, WomanOutlined } from '@ant-design/icons'\n// import { FooterBar } from './toolbar'\n// import { Over, Attachment } from './invitation'\n// import { homeStore } from '../redux/redux'\nimport './user-page.css'\nimport { careStore, userStore, navStore } from '../redux/redux'\nimport { useParams } from 'react-router-dom'\n// import PostsFooter from './postfooter'\nimport { AttentionQuestion } from './user-container'\nimport { Link } from \"react-router-dom\"\n\n\nexport default function AttentionDynamic(props) {\n  let dynamicList = props.dynamicList\n  let state = props.state\n  let userInfo = state.userInfo || {}\n  let isMe = state.cookieUser === userInfo.name\n  let [active, setActive] = useState(userStore.getState().careActive || 0)\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setActive(userStore.getState().careActive))\n    return () => uns()\n  })\n  let changeView = useCallback((idx) => {\n    userStore.dispatch({\n      type: 'careActive',\n      careActive: idx,\n    })\n    // setActive(idx)\n  }, [])\n  let Idx = -1\n  return (\n    <>\n      <div className=\"dynamicCareList\">\n        <ul>\n          <li onClick={() => changeView(0)} className={active === 0 ? 'careListActive' : ''}>关注的问题</li>\n          <li onClick={() => changeView(1)} className={active === 1 ? 'careListActive' : ''}>{isMe ? '我' : state.userInfo.sex === 'man' ? '他' : '她'}关注的人</li>\n          <li onClick={() => changeView(2)} className={active === 2 ? 'careListActive' : ''}>关注{isMe ? '我' : state.userInfo.sex === 'man' ? '他' : '她'}的人</li>\n        </ul>\n      </div>\n      <div>\n        <ul className=\"posts user-Dynamic cares\">\n          {active === 0 &&\n            dynamicList.map((item, idx) => {\n              if (item.status !== 'delete') {\n                Idx++\n                return (\n                  <Fragment key={idx}>\n                    {item.style === 'attention' && <AttentionQuestion item={item} state={props.state} idx={Idx} />}\n                  </Fragment>\n                )\n              }\n              return \"\"\n            })\n          }\n          {active !== 0 && <CaresList active={active} />\n          }\n        </ul>\n      </div>\n    </>\n  )\n}\n\nfunction CaresList(props) {\n  let active = props.active\n  let { id } = useParams()\n  let [state, setState] = useState(careStore.getState() || {})\n  let { myCares = [] } = state\n  let careList = active === 1 ? state.itCaresList : state.recevies\n\n  useEffect(() => {\n    axios.get(`/api/get-care/${id}`)\n      .then(res => {\n        let data = res.data\n        careStore.dispatch({\n          type: 'getCare',\n          cares: data.myCares,\n          ...data\n        })\n      })\n\n    let uns = careStore.subscribe(() => setState(careStore.getState()))\n    return () => uns()\n  }, [id])\n\n  let enterText = useCallback((e) => {\n    e.target.innerText = '取消关注'\n  }, [])\n  let leaveTXet = useCallback((e) => {\n    e.target.innerText = '已关注'\n  }, [])\n  // debugger\n  let updateCare = useCallback(({ type, item }) => {\n    if (state.cookieUser === undefined) {\n      navStore.dispatch({\n        type: 'toSign',\n        sign: false,\n      })\n      return\n    }\n    careStore.dispatch({\n      type: 'updateCare',\n      id: item.userId,\n    })\n\n    axios.post('/api/care', { type, careId: item.userId })\n      .catch(rej => {\n        if (rej.response.status === 401) {\n          navStore.dispatch({\n            type: 'toSign',\n            sign: false,\n          })\n        }\n      })\n  }, [state])\n\n  return (\n    <>\n      {careList && careList.map(item => {\n        let careBloon = myCares.find(it => it.careId === item.userId)\n        return (\n          <li key={item.createdAt} className=\"careList\">\n            <div><Link to={'/user/' + item.userId}><i style={{ backgroundImage: `url(${item.avatar})` }} className=\"careAvatar\"></i></Link></div>\n            <div>\n              <Link to={'/user/' + item.userId} className=\"cares-name\">\n                <h3>{item.name}</h3>\n                {item.sex === 'man'\n                  ? <ManOutlined style={{ marginLeft: '15px', color: '#0084FF' }} />\n                  : <WomanOutlined style={{ marginLeft: '15px', color: '#e49eab' }} />\n                }\n              </Link>\n              <span className=\"careSign\">{item.sign}</span>\n              <ul className=\"careinfo\">\n                <li><span>{item.commentCount} 回答</span></li>\n                <li><span>{item.agree} 赞同</span></li>\n                <li><span>{item.fans} 关注者</span></li>\n              </ul>\n            </div>\n            <div className=\"careButton\">\n              {careBloon\n                ? <button className=\"active\" onMouseEnter={enterText} onMouseLeave={leaveTXet} onClick={() => updateCare({ type: 'reCare', item: item })}>已关注</button>\n                : <button className=\"unactive\" onClick={() => updateCare({ type: 'toCare', item: item })}><CheckCircleFilled /> 关注{item.sex === 'man' ? '他' : '她'}</button>\n              }\n            </div>\n          </li>\n        )\n      })\n      }\n    </>\n  )\n}\n","import React, { Fragment, useCallback, useEffect, useState } from 'react'\nimport moment from 'moment';\nimport { Link } from \"react-router-dom\"\nimport { Attachment } from './invitation'\nimport './user-page.css'\nimport { userStore } from '../redux/redux'\nimport PostsFooter from './postfooter'\n\n\nexport default function CollectList(props) {\n  let [state, setState] = useState(userStore.getState() || {})\n  let [active, setActive] = useState(userStore.getState().collectActive || 0)\n  useEffect(() => {\n    let uns = userStore.subscribe(() => {\n      setActive(userStore.getState().collectActive)\n      setState(userStore.getState())\n    })\n    return () => uns()\n  }, [props])\n  let dynamicList = props.dynamicList\n\n  let changeView = useCallback((idx) => {\n    userStore.dispatch({\n      type: 'collectActive',\n      collectActive: idx,\n    })\n  }, [])\n\n  let quesIdx = -1\n  let coomIdx = -1\n  return (\n    <>\n      <div className=\"dynamicCareList collectHead\">\n        <ul>\n          <li onClick={() => changeView(0)} className={active === 0 ? 'careListActive' : ''}>收藏的问题</li>\n          <li onClick={() => changeView(1)} className={active === 1 ? 'careListActive' : ''}>收藏的回答</li>\n        </ul>\n      </div>\n      <div>\n        <ul className=\"posts user-Dynamic collect\">\n          {\n            dynamicList.map((item, idx) => {\n              if (active === 0 && item.status !== 'delete' && item.type === 'question') {\n                quesIdx++\n                return (\n                  <Fragment key={idx}>\n                    { <CollectQuestion item={item} state={state} idx={quesIdx} />}\n                  </Fragment>\n                )\n              } else if (active === 1 && item.status !== 'delete' && item.type === 'comment') {\n                coomIdx++\n                return (\n                  <Fragment key={idx}>\n                    {<CollectComment item={item} state={state} idx={coomIdx} />}\n                  </Fragment>\n                )\n              }\n              return \"\"\n            })\n          }\n        </ul>\n      </div>\n    </>\n  )\n}\n\nexport function CollectQuestion(props) {\n  let idx = props.idx\n  let [state, setState] = useState(userStore.getState() || {})\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setState(userStore.getState()))\n    return () => uns()\n  }, [idx])\n  let item = props.item\n  let time = (item.likeAt || item.createdAt) * 1\n  let TIME = moment(time).endOf().fromNow(true) + '前'\n  return (\n    <li key={item.likeAt || item.createdAt}>\n      <div className=\"dynamicList-header\"><span>收藏了问题</span><span>\n        {parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n          new Date(time).toLocaleDateString().slice(5)\n          : TIME\n        }</span></div>\n      <div className=\"content-div\" name=\"content\">\n        <Link className=\"post-title\" to={`/post-page/${item.postId}`}>{item.title}</Link>\n        <p className=\"post-content\">\n          <span>{item.content}</span>\n        </p>\n      </div>\n      <PostsFooter type='question' post={item} idx={idx} state={state} />\n    </li>\n  )\n}\n\nexport function CollectComment(props) {\n  let idx = props.idx\n  let [state, setState] = useState(userStore.getState() || {})\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setState(userStore.getState()))\n    return () => uns()\n  }, [idx])\n  let item = props.item\n  let avatar = item.avatar\n  let time = (item.likeAt || item.createdAt) * 1\n  let TIME = moment(time).endOf().fromNow(true) + '前'\n  let POST_TIME = moment(item.createdAt * 1).endOf().fromNow(true) + '前'\n  return (\n    <li key={item.likeAt || item.createdAt}>\n      <div className=\"dynamicList-header\"><span>收藏了回答</span><span>\n        {parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n          new Date(time).toLocaleDateString().slice(5)\n          : TIME\n        }</span></div>\n      <div className=\"content-div\" name=\"content\">\n        <Link className=\"post-title\" to={`/post-page/${item.postId}`}>{item.title}</Link>\n      </div>\n      <div className=\"commenter-info dynamic-comment\" >\n        <i className=\"commenter-avatar\" style={{ backgroundImage: `url(${avatar})` }}></i>\n        <div className=\"commenter-flag\">\n          <Link className=\"commenter-name\" to={`/user/${item.userId}`}>{item.name}</Link>\n          <span className=\"commenter-sign\">{item.sign}</span>\n          <Attachment state={state} post={item} type='comment' />\n        </div>\n      </div>\n      <div className=\"content-div\" name=\"content\">\n        <p><span>{item.content}</span></p>\n        <span className=\"answerAt\">发布于 &nbsp;\n        {parseInt(POST_TIME) >= 1 && /天/g.test(POST_TIME) ?\n            moment(item.createdAt * 1).format(\"YYYY-MM-DD HH:mm:ss\")\n            : POST_TIME\n          }\n        </span>\n        <div className=\"commenter-footer\">\n          <PostsFooter type={'comment'} comment={item} idx={idx} state={state} />\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React, { useCallback, useEffect, useState, Fragment } from 'react'\nimport moment from 'moment';\nimport UserBar from './user-Bar'\nimport { Over, Attachment } from './invitation'\n// import { homeStore } from '../redux/redux'\nimport './user-page.css'\nimport { userStore } from '../redux/redux'\n// import { useParams } from 'react-router-dom'\nimport PostsFooter from './postfooter'\nimport AttentionDynamic from './caresList'\nimport CollectList, { CollectQuestion, CollectComment } from './collectList'\nimport { Link } from \"react-router-dom\"\nimport { Skeleton } from 'antd';\n\nexport default function () {\n  return (\n    <div className=\" user-container\">\n      <div className=\"body-container\">\n        <UserMain />\n        <UserBar />\n      </div>\n    </div>\n  )\n}\n\nexport function UserMain({ dynamic = true }) {\n  let [flag, setFlag] = useState(20)\n  let [active, reActive] = useState(userStore.getState().active || 0)\n  useEffect(() => {\n    let uns = userStore.subscribe(() => reActive(userStore.getState().active))\n    return () => uns()\n  })\n  useEffect(() => {\n    setFlag(30 * active + 20 + 40 * active)\n  }, [active])\n  let getMain = useCallback((idx) => {\n    userStore.dispatch({\n      type: 'activeSwitch',\n      active: idx,\n    })\n    // reActive(idx)\n  }, [])\n\n  return (\n    <div >\n      <div className=\"user-main\">\n        <ul className=\"user-main-header\">\n          <li onClick={() => getMain(0)}>动态</li>\n          <li onClick={() => getMain(1)}>回答</li>\n          <li onClick={() => getMain(2)}>提问</li>\n          <li onClick={() => getMain(3)}>赞同</li>\n          <li onClick={() => getMain(4)}>关注</li>\n          <li onClick={() => getMain(5)}>收藏</li>\n        </ul>\n        <div className=\"user-main-flag\" style={{ left: flag + 'px' }}></div>\n        {dynamic && <DynamicList active={active} />}\n      </div>\n      {dynamic && <Over />}\n    </div>\n  )\n}\n\nfunction DynamicList(props) {\n  let [state, setState] = useState(userStore.getState() || {})\n  let { userInfo = {} } = state\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setState(userStore.getState()))\n\n    return () => uns()\n  }, [])\n  // debugger\n  return (\n    <div className=\"dynamicList\">\n      { props.active !== 4 && props.active !== 5 &&\n        <div className=\"dynamic-head\">\n          <span>\n            {userInfo.name === state.cookieUser\n              ? <span>我的{['动态', '回答', '提问', '赞同'][props.active]}</span>\n              : <span>{userInfo.sex === 'man' ? '他' : '她'}的{['动态', '回答', '提问', '赞同'][props.active]}</span>\n            }\n          </span>\n        </div>\n      }\n      <div>\n        <PostMain active={props.active} />\n      </div>\n\n    </div>\n  )\n}\n\n\nfunction PostMain(props) {\n  let active = props.active\n  let [state, setState] = useState(userStore.getState())\n  let { attentionDynamic = [], commentDynamic = [], likeDynamic = [], postDynamic = [], collectComment = [], collectQues = [] } = state\n  let [loading, setLoading] = useState(true)\n  let dynamic = [...attentionDynamic, ...commentDynamic, ...likeDynamic, ...postDynamic, ...collectComment, ...collectQues]\n  let dynamicArray = [commentDynamic, postDynamic, likeDynamic, attentionDynamic, [...collectComment, ...collectQues]]\n\n  useEffect(() => {\n    if (state.attentionDynamic || state.commentDynamic || state.likeDynamic) {\n      setLoading(false)\n    }\n  }, [state])\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setState(userStore.getState()))\n    return () => uns()\n  }, [])\n  // if (!state) state = {}\n  // console.log(state)\n  // debugger\n  let dynamicList = loading ? new Array(6).fill('') : []\n  if (!loading && active === 0) {\n    dynamicList = sortAtTime(dynamic)\n  } else if (!loading && active !== 0) {\n    dynamicList = sortAtTime(dynamicArray[active - 1])\n  }\n\n  let Idx = -1\n  return (\n    <>\n      {active === 4\n        ? <AttentionDynamic dynamicList={dynamicList} state={state} />\n        : <>\n          {active === 5 && <CollectList dynamicList={dynamicList} state={state} />}\n          {active !== 4 && active !== 5 &&\n            <ul className=\"posts user-Dynamic\">\n              {\n                dynamicList.map((item, i) => {\n                  if (item.status !== 'delete') {\n                    Idx++\n                    return (\n                      <Skeleton key={i} loading={loading}>\n                        {item.style === 'comment' && <AnswerDynamic item={item} state={state} idx={Idx} />}\n                        {item.style === 'post' && <PostDynamic item={item} state={state} idx={Idx} />}\n                        {item.style === 'likeComment' && <LikeDynamic item={item} state={state} idx={Idx} />}\n                        {item.style === 'attention' && <AttentionQuestion item={item} state={state} idx={Idx} />}\n                        {item.style === 'collect' &&\n                          <>\n                            {item.type === 'question' && <CollectQuestion item={item} state={state} idx={Idx} />}\n                            {item.type === 'comment' && <CollectComment item={item} state={state} idx={Idx} />}\n                          </ >\n                        }\n                      </Skeleton>\n                    )\n                  }\n                  return \"\"\n                })\n              }\n            </ul>\n          }\n        </>\n\n      }\n\n    </>\n  )\n}\n\n\n\n\n\nfunction AnswerDynamic(props) {\n  let idx = props.idx\n  // let state = props.state\n  let state = props.state || {}\n  let { userInfo = {} } = state\n  let item = props.item\n  let avatar = userInfo.avatar\n  let time = (item.likeAt || item.createdAt) * 1\n  let TIME = moment(time).endOf().fromNow(true) + '前'\n  let POST_TIME = moment(item.createdAt * 1).endOf().fromNow(true) + '前'\n\n  return (\n    <li key={item.likeAt || item.createdAt}>\n      <div className=\"dynamicList-header\"><span>回答了问题</span><span>\n        {parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n          new Date(time).toLocaleDateString().slice(5)\n          : TIME\n        }\n      </span></div>\n      <div className=\"content-div\" name=\"content\">\n        <Link className=\"post-title\" to={`/post-page/${item.postId}`}>{item.title}</Link>\n      </div>\n      <div className=\"commenter-info dynamic-comment\" >\n        <i className=\"commenter-avatar\" style={{ backgroundImage: `url(${avatar})` }}></i>\n        <div className=\"commenter-flag\">\n          <Link className=\"commenter-name\" to=\".\">{userInfo.name}</Link>\n          <span className=\"commenter-sign\">{userInfo.sign}</span>\n          <Attachment state={state} post={item} type='comment' />\n        </div>\n      </div>\n      <div className=\"content-div\" name=\"content\">\n        <p><span>{item.content}</span></p>\n        <span className=\"answerAt\">发布于 &nbsp;\n        {parseInt(POST_TIME) * 1 >= 1 && /天/g.test(POST_TIME) ?\n            moment(item.createdAt * 1).format(\"YYYY-MM-DD HH:mm:ss\")\n            : POST_TIME\n          }</span>\n        <div className=\"commenter-footer\">\n          <PostsFooter type={'comment'} comment={item} idx={idx} state={state} />\n        </div>\n      </div>\n    </li>\n  )\n}\n\nfunction PostDynamic(props) {\n  let idx = props.idx\n  let state = props.state || {}\n\n  let item = props.item\n  let time = (item.likeAt || item.createdAt) * 1\n\n  let TIME = moment(time).endOf().fromNow(true) + '前'\n\n  return (\n    <li key={item.likeAt || item.createdAt}>\n      <div className=\"dynamicList-header User-post-time\"><span>发布了问题</span><span>&nbsp;&nbsp;:&nbsp;\n         {parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n          moment(item.createdAt * 1).format(\"YYYY-MM-DD HH:mm:ss\")\n          : TIME\n        }</span>\n        <Attachment state={state} post={item} type='post' />\n      </div>\n      <div className=\"content-div\" name=\"content\">\n        <Link className=\"post-title\" to={`/post-page/${item.postId}`}>{item.title}</Link>\n        <p className=\"post-content\">\n          <span>{item.content}</span>\n        </p>\n      </div>\n      <PostsFooter type={'question'} post={item} idx={idx} state={state} />\n    </li>\n  )\n}\n\n\nfunction LikeDynamic(props) {\n  let idx = props.idx\n  let state = props.state || {}\n\n  let item = props.item\n  let avatar = item.avatar\n  let time = (item.likeAt || item.createdAt) * 1\n  let TIME = moment(time).endOf().fromNow(true) + '前'\n  let POST_TIME = moment(item.createdAt * 1).endOf().fromNow(true) + '前'\n  return (\n    <li key={item.likeAt || item.createdAt}>\n      <div className=\"dynamicList-header\"><span>赞同了回答</span><span>\n        {parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n          new Date(time).toLocaleDateString().slice(5)\n          : TIME\n        }</span></div>\n      <div className=\"content-div\" name=\"content\">\n        <Link className=\"post-title\" to={`/post-page/${item.postId}`}>{item.title}</Link>\n      </div>\n      <div className=\"commenter-info dynamic-comment\" >\n        <i className=\"commenter-avatar\" style={{ backgroundImage: `url(${avatar})` }}></i>\n        <div className=\"commenter-flag\">\n          <Link className=\"commenter-name\" to={`/user/${item.commenterId}`}>{item.name}</Link>\n          <span className=\"commenter-sign\">{item.sign}</span>\n          <Attachment state={state} post={item} type='comment' />\n        </div>\n      </div>\n      <div className=\"content-div\" name=\"content\">\n        <p><span>{item.content}</span></p>\n        <span className=\"answerAt\">发布于  &nbsp;\n        {parseInt(POST_TIME) * 1 >= 1 && /天/g.test(POST_TIME) ?\n            moment(item.createdAt * 1).format(\"YYYY-MM-DD HH:mm:ss\")\n            : POST_TIME\n          }\n        </span>\n        <div className=\"commenter-footer\">\n          <PostsFooter type={'comment'} comment={item} idx={idx} state={state} />\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport function AttentionQuestion(props) {\n  let idx = props.idx\n  let state = props.state || {}\n\n  let item = props.item\n  let time = (item.likeAt || item.createdAt) * 1\n  let TIME = moment(time).endOf().fromNow(true) + '前'\n\n  return (\n    <li key={item.likeAt || item.createdAt}>\n      <div className=\"dynamicList-header\"><span>关注了问题</span><span>\n        {parseInt(TIME) * 1 > 1 && /天/g.test(TIME) ?\n          new Date(time).toLocaleDateString().slice(5)\n          : TIME\n        }\n      </span></div>\n      <div className=\"content-div\" name=\"content\">\n        <Link className=\"post-title\" to={`/post-page/${item.postId}`}>{item.title}</Link>\n        <p className=\"post-content\">\n          <span>{item.content}</span>\n        </p>\n      </div>\n      <PostsFooter type={'question'} post={item} idx={idx} state={state} />\n    </li>\n  )\n}\n\n//根据时间排序\n\nfunction sortAtTime(array = []) {\n  return Array.from(array).sort((a, b) => {\n    let bCreated = b.likeAt ? b.likeAt * 1 : b.createdAt * 1\n    let aCreated = a.likeAt ? a.likeAt * 1 : a.createdAt * 1\n    return bCreated - aCreated\n  })\n}\n\n//处理时间 \n// function dateTime(time) {\n//   let org = \n// }\n\n\n\n","import React, { useEffect, useState, useCallback } from 'react'\nimport Nav from '../components/header-nav'\nimport Question from '../components/question'\nimport { homeStore, pageStore, userStore } from '../redux/redux'\nimport UserHeader from '../components/user-header'\nimport UserContainer, { UserMain } from '../components/user-container'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios'\nimport CareMessage from '../components/care-message'\nexport default function () {\n  let { id } = useParams()\n  let [state, setState] = useState(homeStore.getState())\n  useEffect(() => {\n    let uns = homeStore.subscribe(() => {\n      let newData = homeStore.getState()\n      let { posts = [] } = newData\n      setState(newData)\n      userStore.dispatch({\n        type: 'getInitial',\n        attention: newData.attention,\n        poors: newData.poors,\n        favoriteQues: newData.favoriteQues,\n        collect_quesActive: newData.collect_quesActive,\n        attentionDynamic: posts.filter(it => it.style === 'attention'),\n        postDynamic: posts.filter(it => it.style === 'post'),\n        collectQues: posts.filter(it => it.style === 'collect'),\n      })\n    })\n    return () => uns()\n  }, [id])\n  useEffect(() => {\n    if (id === 'undefined') {\n      window.location.replace('/')\n      return\n    }\n    axios.get(`/api/user-data/${id}`)\n      .then(res => {\n        let initial = res.data\n        userStore.dispatch({\n          type: 'getInitial',\n          ...initial,\n        })\n        homeStore.dispatch({\n          type: 'getData',\n          ...initial,\n          posts: [...initial.postDynamic, ...initial.attentionDynamic, ...initial.collectQues]\n        })\n        pageStore.dispatch({\n          type: 'getInitial',\n          ...initial,\n          commenterInfo: [...initial.likeDynamic, ...initial.commentDynamic, ...initial.collectComment]\n        })\n      })\n\n    let pageuns = pageStore.subscribe(() => {\n      let newData = pageStore.getState()\n      userStore.dispatch({\n        type: 'getInitial',\n        ...newData,\n        favoriteComment: newData.favoriteComment,\n        collect_commActive: newData.collect_commActive,\n        likeDynamic: newData.commenterInfo.filter(it => it.style === 'likeComment'),\n        commentDynamic: newData.commenterInfo.filter(it => it.style === 'comment'),\n        collectComment: newData.commenterInfo.filter(it => it.style === 'collect'),\n      })\n    })\n    return () => pageuns()\n  }, [id])\n\n  return (\n    <>\n      <Nav page={'user'}><UserNavSlider /></Nav>\n      {state.question &&\n        <Question />\n      }\n      <UserHeader />\n      <UserContainer />\n    </>\n  )\n}\nfunction UserNavSlider() {\n  let [state, setState] = useState({})\n  let userInfo = state.userInfo || {}\n\n  useEffect(() => {\n    let uns = userStore.subscribe(() => setState(userStore.getState()))\n    return () => uns()\n  }, [])\n  let editState = useCallback(() => {\n    userStore.dispatch({\n      type: 'editState',\n      edit: true\n    })\n  }, [])\n  return (\n    <div className=\"user-ndv-slider\">\n      <UserMain dynamic={false} />\n      {state.cookieUser === userInfo.name\n        ? <div className=\"user-editing\" onClick={editState}>编辑个人资料</div>\n        : <div className=\"other-user\"><CareMessage careInfo={state.userInfo} /></div>\n      }\n    </div>\n  )\n}\n","import React from 'react';\n// import logo from './logo.svg';\nimport './App.css';\n// import { Button } from 'antd';\n// 由于 antd 组件的默认文案是英文，所以需要修改为中文\n\n// import 'antd/dist/antd.css';\nimport Home from './pages/home'\nimport './index.css';\nimport Signin from './pages/signin.js'\nimport Signup from './components/signup-component'\nimport PostPage from './pages/post'\nimport User from './pages/user'\n// import Edit from './components/edit-userInfo'\n// import Main from './layout'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\n\nconst App = () => (\n  <div className=\"App\">\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/index\">\n          <Home />\n        </Route>\n        <Route path=\"/sign\">\n          <Signin />\n        </Route>\n        <Route path=\"/sign_up\">\n          <Signup />\n        </Route>\n        <Route path=\"/post-page/:id\">\n          <PostPage />\n        </Route>\n        {/* <Route path=\"/user/edit\">\n          <Edit />\n        </Route> */}\n        <Route path=\"/user/:id\">\n          <User />\n        </Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </Router>\n  </div>\n)\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport zhCN from 'antd/es/locale/zh_CN';\nimport { ConfigProvider } from 'antd'\n\nmoment.locale('zh-cn');\nReactDOM.render(\n  <React.StrictMode>\n    <ConfigProvider locale={zhCN}>\n      <App />\n    </ConfigProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}